{"version":3,"sources":["contexts/__generated__/viewerQuery.graphql.ts","mutations/__generated__/createUserMutation.graphql.ts","mutations/__generated__/createRoomMutation.graphql.ts","mutations/__generated__/enterRoomMutation.graphql.ts","mutations/__generated__/makeStepMutation.graphql.ts","components/GameBoard/__generated__/GameBoardSubscription.graphql.ts","components/GameBoard/__generated__/GameBoardUserExitSubscription.graphql.ts","containers/__generated__/roomQueryForRoomQuery.graphql.ts","mutations/__generated__/exitRoomMutation.graphql.ts","pages/user/room/Game/__generated__/GameQuery.graphql.ts","mutations/__generated__/setReadyMutation.graphql.ts","pages/user/room/Room/Wait/__generated__/WaitPlayerSubscription.graphql.ts","styles/index.tsx","utils/auth.ts","environment.ts","utils/relay.ts","contexts/viewer.tsx","mutations/createUser.ts","mutations/createRoom.ts","pages/guest/Main/index.tsx","mutations/enterRoom.ts","components/QueryRenderer/index.tsx","mutations/makeStep.ts","components/GameBoard/utils.ts","components/GameBoard/BoardView/elements.tsx","components/GameBoard/BoardView/index.tsx","components/GameBoard/elements.tsx","components/GameBoard/index.tsx","containers/roomQuery.tsx","pages/guest/Room/index.tsx","pages/guest/index.tsx","pages/user/lobby/Main/index.tsx","pages/user/lobby/New/index.tsx","pages/user/lobby/Room/index.tsx","pages/user/lobby/index.tsx","mutations/exitRoom.tsx","pages/user/room/Return/index.tsx","pages/user/room/Game/UserExited/index.tsx","pages/user/room/Game/index.tsx","mutations/setReady.ts","pages/user/room/Room/Wait/index.tsx","pages/user/room/Room/Menu/index.tsx","pages/user/room/Room/index.tsx","pages/user/room/index.tsx","pages/user/index.tsx","pages/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["node","v0","v1","v2","hash","v3","v4","v5","Page","styled","div","Heading","h2","Button","button","Input","input","LoginFormInner","form","LoginFormOuter","LoginForm","children","setAuthorizationToken","token","window","localStorage","setItem","getAuthorizationToken","getItem","subscriptionClient","SubscriptionClient","process","reconnect","subscriptionMiddleware","applyMiddleware","options","next","authorization","use","subscriptionLink","WebSocketLink","network","Network","create","operation","variables","a","async","fetch","method","headers","body","JSON","stringify","query","text","then","response","json","execute","store","Store","RecordSource","environment","Environment","commitMutation","mutation","Promise","resolve","reject","relayCommitMutation","onCompleted","errors","onError","requestSubscription","subscription","onNext","relayRequestSubscription","initialValue","update","viewer","ViewerContext","React","createContext","ViewerContextProvider","useState","setViewer","busy","useRef","useCallback","current","relayFetchQuery","fetchQuery","error","console","useEffect","provider","useMemo","Provider","value","withRouter","history","userName","createRef","roomName","setBusy","updateUser","useContext","placeholder","ref","onClick","e","preventDefault","user","room","commitCreateUserMutation","name","commitCreateRoomMutation","roomId","createRoom","id","push","catch","disabled","QueryRenderer","render","renderNull","renderError","rest","props","getViewFromBoard","board","SYMBOLS","symbols","order","reduce","s","i","length","positions","possibleSteps","cells","map","c","position","min","max","x","y","Math","offset","size","updateGameBoardView","view","FieldCell","highlight","FieldStep","Field","BoardView","selected","onSelect","owner","key","style","gridColumn","gridRow","lastStep","winnerLine","findIndex","p","currentPlayer","stopPropagation","onTouchEnd","containerAsEventTarget","gridTemplateColumns","gridTemplateRows","transform","ControlButton","PlayersInfoWrapper","PlayerTimerBar","PlayersInfoView","players","index","textAlign","userExitSubscription","GameBoard","state","setState","newBoard","waitBoardChange","dispose","onUserExit","userExit","log","makeStep","makeStepMutation","Error","err","playersInfo","slice","sort","u","undefined","winner","to","currentRoom","Container","data","RoomIsActive","Room","commitEnterRoomMutation","RoomQuery","RoomQueryContainer","gameActive","match","params","Guest","exact","path","component","Main","NotFound","EnterRoom","Lobby","New","Return","commitExitRoomMutation","GameQuery","GamePage","exited","setExited","ready","QRCodeImage","img","QRCode","url","setURL","qrcode","toDataURL","src","responce","waitForOtherUserEnter","commitSetReadyMutation","location","href","Menu","targetRoom","Wait","ReturnMenu","Game","RoomMenu","User","App","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"0LAAA,OAqCA,IAAMA,EAAyB,WAC/B,IAAIC,EAAK,CACP,KAAQ,cACR,MAAS,KACT,KAAQ,KACR,KAAQ,KACR,WAAc,MAEhBC,EAAK,CACH,KAAQ,cACR,MAAS,KACT,KAAQ,OACR,KAAQ,KACR,WAAc,MAEhBC,EAAK,CACH,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,SACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAc,CACXF,EACAC,EACD,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,cACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAc,CACXD,EACAC,EACD,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,aACR,KAAQ,KACR,WAAc,WAO1B,MAAO,CACL,KAAQ,UACR,SAAY,CACV,KAAQ,WACR,KAAQ,cACR,KAAQ,QACR,SAAY,KACZ,oBAAuB,GACvB,WAAeC,GAEjB,UAAa,CACX,KAAQ,YACR,KAAQ,cACR,oBAAuB,GACvB,WAAeA,GAEjB,OAAU,CACR,cAAiB,QACjB,KAAQ,cACR,GAAM,KACN,KAAQ,gIACR,SAAY,KAvEe,GA2E9BH,EAAaI,KAAO,mCACNJ,a,iCCjHf,OA4BA,IAAMA,EAAyB,WAC/B,IAAIC,EAAK,CACP,CACE,KAAQ,gBACR,KAAQ,QACR,KAAQ,mBACR,aAAgB,OAGpBC,EAAK,CACH,CACE,KAAQ,cACR,MAAS,QACT,KAAQ,aACR,KAAQ,CACN,CACE,KAAQ,WACR,KAAQ,QACR,aAAgB,UAGpB,WAAc,OAGlB,MAAO,CACL,KAAQ,UACR,SAAY,CACV,KAAQ,WACR,KAAQ,qBACR,KAAQ,WACR,SAAY,KACZ,oBAAwBD,EACxB,WAAeC,GAEjB,UAAa,CACX,KAAQ,YACR,KAAQ,qBACR,oBAAwBD,EACxB,WAAeC,GAEjB,OAAU,CACR,cAAiB,WACjB,KAAQ,qBACR,GAAM,KACN,KAAQ,yGACR,SAAY,KA7Ce,GAiD9BF,EAAaI,KAAO,mCACNJ,a,iCC9Ef,OA6BA,IAAMA,EAAyB,WAC/B,IAAIC,EAAK,CACP,CACE,KAAQ,gBACR,KAAQ,OACR,KAAQ,UACR,aAAgB,OAGpBC,EAAK,CACH,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,aACR,WAAc,KACd,KAAQ,CACN,CACE,KAAQ,WACR,KAAQ,OACR,aAAgB,SAGpB,aAAgB,OAChB,QAAU,EACV,WAAc,CACZ,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,KACR,KAAQ,KACR,WAAc,SAKtB,MAAO,CACL,KAAQ,UACR,SAAY,CACV,KAAQ,WACR,KAAQ,qBACR,KAAQ,WACR,SAAY,KACZ,oBAAwBD,EACxB,WAAeC,GAEjB,UAAa,CACX,KAAQ,YACR,KAAQ,qBACR,oBAAwBD,EACxB,WAAeC,GAEjB,OAAU,CACR,cAAiB,WACjB,KAAQ,qBACR,GAAM,KACN,KAAQ,qGACR,SAAY,KAxDe,GA4D9BF,EAAaI,KAAO,mCACNJ,a,iCC1Ff,OA8BA,IAAMA,EAAyB,WAC/B,IAAIC,EAAK,CACP,CACE,KAAQ,gBACR,KAAQ,KACR,KAAQ,MACR,aAAgB,OAGpBC,EAAK,CACH,CACE,KAAQ,WACR,KAAQ,KACR,aAAgB,OAGpBC,EAAK,CACH,KAAQ,cACR,MAAS,KACT,KAAQ,aACR,KAAQ,KACR,WAAc,MAEhB,MAAO,CACL,KAAQ,UACR,SAAY,CACV,KAAQ,WACR,KAAQ,oBACR,KAAQ,WACR,SAAY,KACZ,oBAAwBF,EACxB,WAAc,CACZ,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,YACR,WAAc,KACd,KAASC,EACT,aAAgB,OAChB,QAAU,EACV,WAAc,CACXC,MAKT,UAAa,CACX,KAAQ,YACR,KAAQ,oBACR,oBAAwBF,EACxB,WAAc,CACZ,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,YACR,WAAc,KACd,KAASC,EACT,aAAgB,OAChB,QAAU,EACV,WAAc,CACXC,EACD,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,KACR,KAAQ,KACR,WAAc,UAMxB,OAAU,CACR,cAAiB,WACjB,KAAQ,oBACR,GAAM,KACN,KAAQ,yGACR,SAAY,KA7Ee,GAiF9BH,EAAaI,KAAO,mCACNJ,a,iCChHf,OAqCA,IAAMA,EAAyB,WAC/B,IAAIC,EAAK,CACP,CACE,KAAQ,gBACR,KAAQ,QACR,KAAQ,iBACR,aAAgB,OAGpBC,EAAK,CACH,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,WACR,WAAc,KACd,KAAQ,CACN,CACE,KAAQ,WACR,KAAQ,QACR,aAAgB,UAGpB,aAAgB,QAChB,QAAU,EACV,WAAc,CACZ,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,gBACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAc,CACZ,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,KACR,KAAQ,KACR,WAAc,WAO1B,MAAO,CACL,KAAQ,UACR,SAAY,CACV,KAAQ,WACR,KAAQ,mBACR,KAAQ,WACR,SAAY,KACZ,oBAAwBD,EACxB,WAAeC,GAEjB,UAAa,CACX,KAAQ,YACR,KAAQ,mBACR,oBAAwBD,EACxB,WAAeC,GAEjB,OAAU,CACR,cAAiB,WACjB,KAAQ,mBACR,GAAM,KACN,KAAQ,yIACR,SAAY,KAnEe,GAuE9BF,EAAaI,KAAO,mCACNJ,a,iCC7Gf,OAuEA,IAAMA,EAAyB,WAC/B,IAAIC,EAAK,CACP,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,IACR,KAAQ,KACR,WAAc,MAEhB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,IACR,KAAQ,KACR,WAAc,OAGlBC,EAAK,CACH,KAAQ,cACR,MAAS,KACT,KAAQ,KACR,KAAQ,KACR,WAAc,MAEhBC,EAAK,CACFD,GAEHG,EAAK,CACH,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,kBACR,WAAc,KACd,KAAQ,KACR,aAAgB,QAChB,QAAU,EACV,WAAc,CACZ,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,WACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAc,CACZ,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,WACR,WAAc,KACd,KAAQ,KACR,aAAgB,WAChB,QAAU,EACV,WAAeJ,GAEjB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,QACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAeE,KAIrB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,gBACR,WAAc,KACd,KAAQ,KACR,aAAgB,WAChB,QAAU,EACV,WAAeF,GAEjB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,gBACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAeE,GAEjB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,SACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAc,CACXD,EACD,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,OACR,KAAQ,KACR,WAAc,QAIpB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,aACR,WAAc,KACd,KAAQ,KACR,aAAgB,WAChB,QAAU,EACV,WAAeD,MAKvB,MAAO,CACL,KAAQ,UACR,SAAY,CACV,KAAQ,WACR,KAAQ,wBACR,KAAQ,eACR,SAAY,KACZ,oBAAuB,GACvB,WAAeI,GAEjB,UAAa,CACX,KAAQ,YACR,KAAQ,wBACR,oBAAuB,GACvB,WAAeA,GAEjB,OAAU,CACR,cAAiB,eACjB,KAAQ,wBACR,GAAM,KACN,KAAQ,4VACR,SAAY,KA7Ie,GAiJ9BL,EAAaI,KAAO,mCACNJ,a,iCCzNf,OA2BA,IAAMA,EAAyB,WAC/B,IAAIC,EAAK,CACP,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,WACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAc,CACZ,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,KACR,KAAQ,KACR,WAAc,MAEhB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,OACR,KAAQ,KACR,WAAc,SAKtB,MAAO,CACL,KAAQ,UACR,SAAY,CACV,KAAQ,WACR,KAAQ,gCACR,KAAQ,eACR,SAAY,KACZ,oBAAuB,GACvB,WAAeA,GAEjB,UAAa,CACX,KAAQ,YACR,KAAQ,gCACR,oBAAuB,GACvB,WAAeA,GAEjB,OAAU,CACR,cAAiB,eACjB,KAAQ,gCACR,GAAM,KACN,KAAQ,yFACR,SAAY,KAjDe,GAqD9BD,EAAaI,KAAO,mCACNJ,a,iCCjFf,OAiCA,IAAMA,EAAyB,WAC/B,IAAIC,EAAK,CACP,CACE,KAAQ,gBACR,KAAQ,SACR,KAAQ,MACR,aAAgB,OAGpBC,EAAK,CACH,CACE,KAAQ,cACR,MAAS,OACT,KAAQ,UACR,WAAc,KACd,KAAQ,CACN,CACE,KAAQ,WACR,KAAQ,KACR,aAAgB,WAGpB,aAAgB,OAChB,QAAU,EACV,WAAc,CACZ,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,KACR,KAAQ,KACR,WAAc,MAEhB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,OACR,KAAQ,KACR,WAAc,MAEhB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,aACR,KAAQ,KACR,WAAc,SAKtB,MAAO,CACL,KAAQ,UACR,SAAY,CACV,KAAQ,WACR,KAAQ,wBACR,KAAQ,QACR,SAAY,KACZ,oBAAwBD,EACxB,WAAeC,GAEjB,UAAa,CACX,KAAQ,YACR,KAAQ,wBACR,oBAAwBD,EACxB,WAAeC,GAEjB,OAAU,CACR,cAAiB,QACjB,KAAQ,wBACR,GAAM,KACN,KAAQ,gIACR,SAAY,KAtEe,GA0E9BF,EAAaI,KAAO,mCACNJ,a,iCC5Gf,OAqBA,IAAMA,EAAyB,WAC/B,IAAIC,EAAK,CACP,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,WACR,KAAQ,KACR,WAAc,OAGlB,MAAO,CACL,KAAQ,UACR,SAAY,CACV,KAAQ,WACR,KAAQ,mBACR,KAAQ,WACR,SAAY,KACZ,oBAAuB,GACvB,WAAeA,GAEjB,UAAa,CACX,KAAQ,YACR,KAAQ,mBACR,oBAAuB,GACvB,WAAeA,GAEjB,OAAU,CACR,cAAiB,WACjB,KAAQ,mBACR,GAAM,KACN,KAAQ,+CACR,SAAY,KA/Be,GAmC9BD,EAAaI,KAAO,mCACNJ,a,iCCzDf,OA6GA,IAAMA,EAAyB,WAC/B,IAAIC,EAAK,CACP,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,IACR,KAAQ,KACR,WAAc,MAEhB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,IACR,KAAQ,KACR,WAAc,OAGlBC,EAAK,CACH,KAAQ,cACR,MAAS,KACT,KAAQ,KACR,KAAQ,KACR,WAAc,MAEhBC,EAAK,CACFD,GAEHG,EAAK,CACH,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,WACR,WAAc,KACd,KAAQ,KACR,aAAgB,WAChB,QAAU,EACV,WAAeJ,GAEjB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,QACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAeE,IAGnBG,EAAK,CACFJ,EACD,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,OACR,KAAQ,KACR,WAAc,OAGlBK,EAAK,CACH,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,QACR,WAAc,KACd,KAAQ,KACR,aAAgB,QAChB,QAAU,EACV,WAAc,CACZ,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,QACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAeF,GAEjB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,gBACR,WAAc,KACd,KAAQ,KACR,aAAgB,WAChB,QAAU,EACV,WAAeJ,GAEjB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,WACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAeI,GAEjB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,QACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAeC,GAEjB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,SACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAeA,GAEjB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,aACR,WAAc,KACd,KAAQ,KACR,aAAgB,WAChB,QAAU,EACV,WAAeL,GAEjB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,gBACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAeE,KAIrB,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,SACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAc,CACXD,EACD,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,cACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAeC,MAKvB,MAAO,CACL,KAAQ,UACR,SAAY,CACV,KAAQ,WACR,KAAQ,YACR,KAAQ,QACR,SAAY,KACZ,oBAAuB,GACvB,WAAeI,GAEjB,UAAa,CACX,KAAQ,YACR,KAAQ,YACR,oBAAuB,GACvB,WAAeA,GAEjB,OAAU,CACR,cAAiB,QACjB,KAAQ,YACR,GAAM,KACN,KAAQ,+gBACR,SAAY,KAzLe,GA6L9BP,EAAaI,KAAO,mCACNJ,a,iCC3Sf,OA8BA,IAAMA,EAAyB,WAC/B,IAAIC,EAAK,CACP,CACE,KAAQ,gBACR,KAAQ,QACR,KAAQ,WACR,aAAgB,OAGpBC,EAAK,CACH,CACE,KAAQ,WACR,KAAQ,QACR,aAAgB,UAGpBC,EAAK,CACH,KAAQ,cACR,MAAS,KACT,KAAQ,aACR,KAAQ,KACR,WAAc,MAEhB,MAAO,CACL,KAAQ,UACR,SAAY,CACV,KAAQ,WACR,KAAQ,mBACR,KAAQ,WACR,SAAY,KACZ,oBAAwBF,EACxB,WAAc,CACZ,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,WACR,WAAc,KACd,KAASC,EACT,aAAgB,OAChB,QAAU,EACV,WAAc,CACXC,MAKT,UAAa,CACX,KAAQ,YACR,KAAQ,mBACR,oBAAwBF,EACxB,WAAc,CACZ,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,WACR,WAAc,KACd,KAASC,EACT,aAAgB,OAChB,QAAU,EACV,WAAc,CACXC,EACD,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,KACR,KAAQ,KACR,WAAc,UAMxB,OAAU,CACR,cAAiB,WACjB,KAAQ,mBACR,GAAM,KACN,KAAQ,qHACR,SAAY,KA7Ee,GAiF9BH,EAAaI,KAAO,mCACNJ,a,iCChHf,OA0BA,IAAMA,EAAyB,WAC/B,IAAIC,EAAK,CACP,KAAQ,cACR,MAAS,KACT,KAAQ,aACR,KAAQ,KACR,WAAc,MAEhB,MAAO,CACL,KAAQ,UACR,SAAY,CACV,KAAQ,WACR,KAAQ,yBACR,KAAQ,eACR,SAAY,KACZ,oBAAuB,GACvB,WAAc,CACZ,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,mBACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAc,CACXA,MAKT,UAAa,CACX,KAAQ,YACR,KAAQ,yBACR,oBAAuB,GACvB,WAAc,CACZ,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,mBACR,WAAc,KACd,KAAQ,KACR,aAAgB,OAChB,QAAU,EACV,WAAc,CACXA,EACD,CACE,KAAQ,cACR,MAAS,KACT,KAAQ,KACR,KAAQ,KACR,WAAc,UAMxB,OAAU,CACR,cAAiB,eACjB,KAAQ,yBACR,GAAM,KACN,KAAQ,gGACR,SAAY,KA9De,GAkE9BD,EAAaI,KAAO,mCACNJ,a,iiCC1FR,IAAMQ,EAAOC,IAAOC,IAAV,KAKJC,EAAU,kBAAM,MAE7BA,EAAQC,GAAKH,IAAOG,GAApB,KASO,IAAMC,EAASJ,IAAOK,OAAV,KAMNC,EAAQN,IAAOO,MAAV,KAKZC,EAAiBR,IAAOS,KAAV,KAUdC,EAAiBV,IAAOC,IAAV,IAEdO,GAMOG,EAAsB,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OACjC,kBAACF,EAAD,KACE,kBAACF,EAAD,KACII,KCjDKC,EAAwB,SAACC,GACpCC,OAAOC,aAAaC,QAHJ,aAGuBH,IAG5BI,EAAwB,WACnC,OAAOH,OAAOC,aAAaG,QAPX,eAOiC,I,yCCS7CC,EAAqB,IAAIC,qBAFPC,kCAItB,CACEC,WAAW,IAITC,EAAqC,CACzCC,gBADyC,SACzBC,EAASC,GACvBD,EAAQE,cAAgBV,IACxBS,MAIJP,EAAmBS,IAAI,CAACL,IAExB,IAAMM,EAAmB,IAAIC,IAAcX,GA2BrCY,EAAUC,UAAQC,QAnBL,SACjBC,EACAC,GAFiB,SAAAC,EAAAC,OAAA,yEAIVC,MAAMjB,oCAAyC,CACpDkB,OAAQ,OACRC,QAAS,CACP,cAAiBvB,IACjB,eAAgB,oBAElBwB,KAAMC,KAAKC,UAAU,CACnBC,MAAOV,EAAUW,KACjBV,gBAEDW,MAAK,SAAAC,GACN,OAAOA,EAASC,WAfD,wCANe,SAACd,EAAiCC,GAAlC,OAChCc,YAAQpB,EAAkB,CACxBe,MAAOV,EAAUW,KACjBV,iBAuBEe,EAAQ,IAAIC,QAAM,IAAIC,gBAObC,EALK,IAAIC,cAAY,CAClCvB,UACAmB,UC1CWK,EAAiB,gBAC5BC,EAD4B,EAC5BA,SACArB,EAF4B,EAE5BA,UAF4B,OAMxB,IAAIsB,SAAW,SAACC,EAASC,GAC3BC,yBACEP,EACA,CACEG,WACArB,UAAWA,GAAa,GACxB0B,YAAa,SAACd,EAAUe,GAClBA,GACFH,EAAOG,GACTJ,EAAQX,IAEVgB,QAASJ,QAMJK,EAAsB,SAAC,GAAD,IACjCC,EADiC,EACjCA,aACA9B,EAFiC,EAEjCA,UACA0B,EAHiC,EAGjCA,YACAK,EAJiC,EAIjCA,OACAH,EALiC,EAKjCA,QALiC,OAY7BI,8BACJd,EACA,CACEY,eACA9B,UAAWA,GAAa,GACxB0B,cACAE,UACAG,YCzDEtB,EAAK,0BA+BLwB,EAAmC,CACvCC,OAAQ,oBAAAjC,EAAAC,OAAA,yEAAY,MAAZ,sCACRiC,OAAQ,MAGGC,EAAgBC,IAAMC,cAAkCL,GAExDM,EAAkC,SAAC,GAAkB,IAAhB/D,EAAe,EAAfA,SAAe,EACnC6D,IAAMG,SAAwB,MADK,mBACxDL,EADwD,KAChDM,EADgD,KAEzDC,EAAOL,IAAMM,OAAsC,MAEnDT,EAASG,IAAMO,aAAY,WAC7B,OAAIF,EAAKG,QACAH,EAAKG,SAEdH,EAAKG,QD3Ce,SAAC,GAAD,IACxBpC,EADwB,EACxBA,MACAT,EAFwB,EAExBA,UAFwB,OAMpB8C,qBACJ5B,EACAT,EACAT,GCkCmB+C,CAAW,CACxBtC,UAECE,MACC,YAAiB,IAAdwB,EAAa,EAAbA,OAGD,OAFAO,EAAKG,QAAU,KACfJ,EAAUN,GACHA,KAET,SAACa,GACCC,QAAQD,MAAMA,GACdN,EAAKG,QAAU,KACfJ,EAAU,SAGTC,EAAKG,WAEd,CACEH,EACAD,IAIJJ,IAAMa,WACJ,WACiB,OAAXf,GACFD,MAGJ,CACEC,EACAD,IAIJ,IAAMiB,EAAWd,IAAMe,SAAQ,kBAC3B,kBAAChB,EAAciB,SAAf,CAAwBC,MAAO,CAAEpB,SAAQC,WACvC3D,KAGJ,CACE0D,EACAC,EACA3D,IAIJ,OAAwB,OAAjBkE,EAAKG,QAAmBM,EAAW,mDAG7Bf,IClGTf,EAAQ,0BAQC,WAAClD,GAAD,OAETiD,EAAkC,CAAEC,WAAUrB,UAAW,CAAE7B,YCV3DkD,EAAQ,0BAUC,WAACrB,GAAD,OAEToB,EAIH,CAAEC,WAAUrB,eCkDAuD,eApD6B,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACvCC,EAAWpB,IAAMqB,YACjBC,EAAWtB,IAAMqB,YAFoC,EAGnCrB,IAAMG,UAAkB,GAHW,mBAGpDE,EAHoD,KAG9CkB,EAH8C,KAI3CC,EAAexB,IAAMyB,WAAW1B,GAAxCF,OAqCR,OACE,kBAACvE,EAAD,KACE,kBAAC,EAAD,KACE,kBAACO,EAAD,CAAO6F,YAAa,YAAYC,IAAQP,IACxC,kBAACvF,EAAD,CAAO6F,YAAY,YAAYC,IAAQL,IACvC,kBAAC3F,EAAD,CAAQiG,QAxCM,SAACC,GACnBA,EAAEC,iBAECV,EAASZ,SACNc,EAASd,SACiB,KAA3BY,EAASZ,QAAQS,OACU,KAA3BK,EAASd,QAAQS,QAItBhC,QAAQC,QAAQ,CACd6C,KAAMX,EAASZ,QAAQS,MACvBe,KAAMV,EAASd,QAAQS,QAEtB3C,MAAK,qCAAAV,EAAAC,OAAA,uDAASkE,EAAT,EAASA,KAAMC,EAAf,EAAeA,KAAf,WAAApE,EAAA,MACoBqE,EAAyB,CAC/CC,KAAMH,KAFJ,uBACI1F,EADJ,EACIA,MAIRD,EAAsBC,GALlB,WAAAuB,EAAA,MAMyCuE,EAAyB,CACpED,KAAMF,KAPJ,gBAMsBI,EANtB,EAMIC,WAAcC,GAItBf,GAAQ,GACRJ,EAAQoB,KAAK,IAAIH,GACjBZ,IAZI,yCAcLgB,OAAM,SAAClD,GACNsB,QAAQD,MAAMrB,GACdiC,GAAQ,MAGZA,GAAQ,KAO4BkB,SAAapC,GAA7C,sB,QC5DFrB,EAAQ,0BAUC,YAACrB,GAAD,OAEToB,EAIH,CAAEC,WAAUrB,e,SCLF+E,GAAiC,SAAC,GAAD,IAC5CtE,EAD4C,EAC5CA,MACAuE,EAF4C,EAE5CA,OACAC,EAH4C,EAG5CA,WACAC,EAJ4C,EAI5CA,YACAlF,EAL4C,EAK5CA,UACGmF,EANyC,gFAQ5C,kBAAC,gBAAD,CACE1E,MAAOA,EACPuE,OAAQ,YAAuB,IAApBhC,EAAmB,EAAnBA,MAAOoC,EAAY,EAAZA,MAChB,OAAIpC,IACFC,QAAQD,MAAMA,GACVkC,GACKA,EAAYlC,GAEnBoC,EACKJ,EAAO,gBAAKG,EAAN,GAAeC,IAE1BH,EACKA,IAEF,MAET/D,YAAaA,EACblB,UAAWA,GAAa,M,UCpCtBqB,GAAQ,0B,SCCDgE,GAAmB,SAACC,GAC/B,IAAMC,EAAU,CAAC,IAAK,KAEhBC,EAAUF,EAAMG,MAAMC,QAC1B,SAACC,EAAD,EAAYC,GAAZ,IAAMjB,EAAN,EAAMA,GAAN,uBAAwBgB,EAAxB,gBAA4BhB,EAAKY,EAAQK,EAAIL,EAAQM,YACrD,IAGEC,EAAwBR,EAAMS,cACT,IAArBD,EAAUD,SACZC,EAAYR,EAAMU,MAAMC,KAAI,SAAAC,GAAC,OAAIA,EAAEC,aAViB,MAajCL,EAAUJ,QAC7B,kBAAGU,EAAH,EAAGA,IAAKC,EAAR,EAAQA,IAASC,EAAjB,EAAiBA,EAAGC,EAApB,EAAoBA,EAApB,MAA6B,CAC3BH,IAAK,CACHE,EAAGE,KAAKJ,IAAIE,EAAGF,EAAIE,GACnBC,EAAGC,KAAKJ,IAAIG,EAAGH,EAAIG,IAErBF,IAAK,CACHC,EAAGE,KAAKH,IAAIC,EAAGD,EAAIC,GACnBC,EAAGC,KAAKH,IAAIE,EAAGF,EAAIE,OAEnB,CACFH,IAAK,CAAEE,EAAG,EAAGC,EAAG,GAChBF,IAAK,CAAEC,EAAG,EAAGC,EAAG,KAZZH,EAb8C,EAa9CA,IAAKC,EAbyC,EAazCA,IAgBb,MAAO,CACLb,UACAiB,OAAQL,EACRM,KAAM,CACJJ,EAAGD,EAAIC,EAAIF,EAAIE,EAAI,EACnBC,EAAGF,EAAIE,EAAIH,EAAIG,EAAI,KAKZI,GAAsB,SAACC,EAAD,GAA2C,IAA5BN,EAA2B,EAA3BA,EAAGC,EAAwB,EAAxBA,EAE/CE,EAEEG,EAFFH,OACAC,EACEE,EADFF,KAkBF,OAfIJ,IAAMG,EAAOH,EAAI,IACnBG,EAAOH,GAAK,EACZI,EAAKJ,GAAK,GAERC,IAAME,EAAOF,EAAI,IACnBE,EAAOF,GAAK,EACZG,EAAKH,GAAK,GAERD,IAAMI,EAAKJ,EAAIG,EAAOH,IACxBI,EAAKJ,GAAK,GAERC,IAAMG,EAAKH,EAAIE,EAAOF,IACxBG,EAAKH,GAAK,GAGL,gBACFK,EADL,CAEEF,KAAK,gBAAMA,GACXD,OAAO,gBAAMA,M,g2BC/DZ,IAAMI,GAAYjJ,IAAOC,IAAV,MAQlB,SAAAuH,GAAK,OACLA,EAAM0B,WACH,6BAIMC,GAAYnJ,YAAOiJ,GAAPjJ,CAAH,MAalB,SAAAwH,GAAK,OAAIA,EAAM5G,UACf,6BAKSwI,GAAQpJ,IAAOC,IAAV,MCiFHoJ,GAhGyB,SAAC7B,GAAW,IAEhDjD,EASEiD,EATFjD,OACA+E,EAQE9B,EARF8B,SACAC,EAOE/B,EAPF+B,SACA7B,EAMEF,EANFE,MAL+C,EAW7CF,EALFwB,KACEH,EAP6C,EAO7CA,OACAC,EAR6C,EAQ7CA,KACAlB,EAT6C,EAS7CA,QAIEQ,EAAQ3D,IAAMe,SAAQ,kBAC1BkC,EAAMU,MAAMC,KAAI,oBAAGE,SAAYG,EAAf,EAAeA,EAAGC,EAAlB,EAAkBA,EAAc5B,EAAhC,EAAuByC,MAASzC,GAAhC,OACd,kBAACkC,GAAD,CACEQ,IAAG,UAAKf,EAAL,YAAUC,EAAV,YAAe5B,GAClB2C,MAAO,CACLC,WAAYjB,EAAIG,EAAOH,EAAI,EAC3BkB,QAASjB,EAAIE,EAAOF,EAAI,GAE1BO,UAEuB,OAAnBxB,EAAMmC,UACHnB,IAAMhB,EAAMmC,SAAStB,SAASG,GAC9BC,IAAMjB,EAAMmC,SAAStB,SAASI,GAEZ,OAArBjB,EAAMoC,YACHpC,EAAMoC,WAAWC,WAClB,SAAAC,GAAC,OAAIA,EAAEtB,IAAMA,GAAKsB,EAAErB,IAAMA,MACvB,GAIRf,EAAQb,SAGZ,CACDW,EACAmB,EACAjB,IAGIO,EAAgB1D,IAAMe,SAAQ,kBAClCkC,EAAMuC,eACHvC,EAAMuC,cAAclD,KAAOxC,EAAOwC,IAClCW,EAAMS,cAAcE,KAAI,gBAAEK,EAAF,EAAEA,EAAGC,EAAL,EAAKA,EAAL,OACzB,kBAACQ,GAAD,CACEM,IAAG,UAAKf,EAAL,YAAUC,GACbe,MAAO,CACLC,WAAYjB,EAAIG,EAAOH,EAAI,EAC3BkB,QAASjB,EAAIE,EAAOF,EAAI,GAE1BtC,QAAS,SAACC,GACNiD,EAAS,CAAEb,IAAGC,MACdrC,EAAE4D,mBAENC,WAAY,SAAC7D,GACTiD,EAAS,CAAEb,IAAGC,MACdrC,EAAE4D,mBAENtJ,SACe,OAAb0I,GACGZ,IAAMY,EAASZ,GACfC,IAAMW,EAASX,GACff,EAAQrD,EAAOwC,WAIvB,CACDuC,EACAC,EACA7B,EACAmB,EACAjB,EACArD,IAGF,OACE,kBAAC,qBAAD,CACE6F,wBAAwB,GAExB,kBAAChB,GAAD,CACEM,MAAO,CACLW,oBAAoB,UAAD,OAAYvB,EAAKJ,EAAI,EAArB,WACnB4B,iBAAiB,UAAD,OAAYxB,EAAKH,EAAI,EAArB,WAChB4B,UAAU,aAAD,OAAe,EAAE1B,EAAOH,EAAI,GAAGI,EAAKJ,EAAI,GAAxC,gBAAkD,EAAEG,EAAOF,EAAI,GAAGG,EAAKH,EAAI,GAA3E,UAGTP,EACAD,K,2hCC3GH,IAAMqC,GAAgBxK,IAAOK,OAAV,MA0BboK,GAAqBzK,IAAOC,IAAV,MA2BlByK,GAAiB1K,IAAOC,IAAV,MAYd0K,GAA8C,SAAC,GAAD,IACzDC,EADyD,EACzDA,QACAhD,EAFyD,EAEzDA,QACA3C,EAHyD,EAGzDA,QAHyD,OAKzD,kBAACwF,GAAD,KACGG,EAAQvC,KAAI,WAAewC,GAAf,IAAG9D,EAAH,EAAGA,GAAIJ,EAAP,EAAOA,KAAP,OACX,yBACE8C,IAAK1C,EACL2C,MAAO,CACLoB,UAAqB,IAAVD,EAAc,OAAS,UAGpC,8BAAQjD,EAAQb,IAChB,+BAASJ,GACRI,IAAO9B,GAAW,kBAACyF,GAAD,YCpDrBxG,GAAY,0BA+BZ6G,GAAoB,0BA8BbC,GAAsC,SAACxD,GAAW,IAAD,EAElC/C,IAAMG,SAAyB,CACvD8C,MAAOF,EAAME,MACb4B,SAAU,KACVxE,MAAM,EACNkE,KAAMvB,GAAiBD,EAAME,SAN6B,mBAErDuD,EAFqD,KAE9CC,EAF8C,KAS5DzG,IAAMa,WAAU,WA8Bd,OA7BoBrB,EAAoB,CACtCC,gBACAC,OAAQ,YAID,IAHYgH,EAGb,EAHJC,gBAIID,EACFD,GAAS,SAACD,GAAD,uBACJA,EADI,CAEPvD,MAAM,gBACDuD,EAAMvD,MADN,GAEAyD,EAFA,CAGH/C,MAAM,GAAD,oBACA6C,EAAMvD,MAAMU,OADZ,CAEH+C,EAAStB,aAGbb,KAAMD,GACJkC,EAAMjC,KACNmC,EAAStB,SAAStB,eAItBlD,QAAQD,MAAM,0BAxBZiG,UA8BP,CAAC7D,EAAME,QAxCkD,IA2C1D4D,EACE9D,EADF8D,WAGF7G,IAAMa,WAAU,WAcd,OAboBrB,EAAoB,CACtCC,aAAc6G,GACd5G,OAAQ,YAID,IAHLoH,EAGI,EAHJA,SAIIA,IACFlG,QAAQmG,IAAR,gBAAqBD,EAAS5E,KAA9B,oBACA2E,EAAW,CAAE9E,KAAM+E,QATjBF,UAcP,CACDC,IAGF,IAAMG,EAAW,SAAClD,GAChB2C,EAAS,gBAAID,EAAL,CAAYnG,MAAM,KLjJf,SAACyD,GAAD,OAGT/E,EAMH,CAAEC,YAAUrB,UAAW,CAAE7B,MAAOgI,KKyI/BmD,CACEnD,GACAxF,MACA,YAEE,IAFgB,EAAf0I,SASC,MAAM,IAAIE,MAAM,6BANhBT,GAAS,SAAAD,GAAK,uBACTA,EADS,CAEZnG,MAAM,EACNwE,SAAU,aAMhBrC,OAAM,SAAC2E,GACPvG,QAAQD,MAAMwG,GACdV,GAAS,SAAAD,GAAK,uBACTA,EADS,CAEZnG,MAAM,WAMVwE,EACE2B,EADF3B,SAGIuC,EAAcpH,IAAMe,SAAQ,kBAChC,kBAAC,GAAD,CACEoF,QAASK,EAAMvD,MAAMG,MAAMiE,QAAQC,MACjC,SAAAC,GAAC,OAAIA,EAAEjF,KAAOS,EAAMjD,OAAOwC,IAAM,EAAI,KAEvCa,QAASqD,EAAMjC,KAAKpB,QACpB3C,QACEgG,EAAMvD,MAAMuC,cACVgB,EAAMvD,MAAMuC,cAAclD,QAC1BkF,MAGL,CACDhB,EAAMvD,MAAMuC,cACZzC,EAAMjD,OACN0G,EAAMvD,MAAMG,MACZoD,EAAMjC,KAAKpB,UAGb,OACE,oCACE,kBAAC,GAAD,CACEF,MAAOuD,EAAMvD,MACbsB,KAAMiC,EAAMjC,KACZM,SAAU2B,EAAM3B,SAChB/E,OAAQiD,EAAMjD,OACdgF,SAAU,SAACD,GAAD,OAAc4B,EAAS,gBAAKD,EAAN,CAAa3B,iBAE7CuC,EAEAZ,EAAMvD,MAAMwE,OAEV,kBAAC,IAAD,CAAMC,GAAE,WAAM3E,EAAMjD,OAAO6H,YAAYrF,KACrC,kBAACyD,GAAD,iBAMF,kBAACA,GAAD,CACEnE,QAAS,kBAAMiD,GAAYmC,EAASnC,IACpCa,WAAY,kBAAMb,GAAYmC,EAASnC,IACvCpC,UAAWoC,GAAY2B,EAAMnG,MAH/B,eC/NJjC,GAAK,0BAgCIwJ,GARsD,SAAAjF,GAAM,OAAI,SAAAI,GAAK,OAClF,kBAAC,GAAD,eACE3E,MAAOA,IACH2E,EAFN,CAGEJ,OAAQ,SAAAkF,GAAI,OAAIlF,EAAO,gBAAKkF,UCN1BC,GAA0C,SAAC,GAAD,IAAG9F,EAAH,EAAGA,KAAH,OAC9C,kBAAC1G,EAAD,KACE,kBAACG,EAAQC,GAAT,sBACiBsG,EAAKE,KADtB,2BAUE6F,GAAwB,SAAC,GAExB,IADL/F,EACI,EADJA,KACI,EACoBhC,IAAMG,UAAkB,GAD5C,mBACGE,EADH,KACSkB,EADT,KAEEH,EAAWpB,IAAMqB,YACfxB,EAAWG,IAAMyB,WAAW1B,GAA5BF,OA8BR,OACE,kBAACvE,EAAD,KACE,kBAAC,EAAD,KACE,kBAACG,EAAQC,GAAT,oBAAyBsG,EAAKE,KAA9B,KACA,kBAACrG,EAAD,CACE6F,YAAY,YACZC,IAAKP,IAEP,kBAACzF,EAAD,CACE8G,SAAUpC,EACVuB,QAtCY,WAEfR,EAASZ,SACoB,KAA3BY,EAASZ,QAAQS,QAItBhC,QAAQC,QAAQ,CAAEgD,KAAMd,EAASZ,QAAQS,QACtC3C,MAAK,+BAAAV,EAAAC,OAAA,uDAASqE,EAAT,EAASA,KAAT,WAAAtE,EAAA,MACoBqE,EAAyB,CAAEC,UAD/C,uBACI7F,EADJ,EACIA,MAERD,EAAsBC,GAHlB,WAAAuB,EAAA,MAKEoK,GAAwB,CAC5B1F,GAAIN,EAAKM,MANP,OASJf,GAAQ,GACR1B,IAVI,yCAYL2C,OAAM,SAAA7B,GACLC,QAAQD,MAAMA,GACdY,GAAQ,MAGZA,GAAQ,MAWJ,YAWF0G,GAAYC,IAAmB,gBAAGlG,EAAH,EAAGA,KAASc,EAAZ,+BACnCd,EACEA,EAAKmG,WACH,kBAAC,GAAD,CAAcnG,KAAMA,IACpB,kBAAC,GAAD,eAAMA,KAAMA,GAAUc,IACxB,kBAAC,IAAD,CAAU4E,GAAG,SAGFxG,gBAAW,SAAC6B,GAAD,OACxB,kBAACkF,GAAD,eACEtK,UAAW,CACTyE,OAAQW,EAAMqF,MAAMC,OAAO/F,KAEzBS,OC5FOuF,GAPS,kBACtB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWC,IACjC,kBAAC,IAAD,CAAOF,KAAK,OAAOC,UAAWV,OCgCnBW,GA5BQ,WAAO,IAAD,EACA1I,IAAMyB,WAAW1B,GAApCD,EADmB,EACnBA,OAAQD,EADW,EACXA,OAChB,GAAe,OAAXC,EACF,MAAM,IAAIoH,MAAM,kBAQlB,OACE,kBAAC5L,EAAD,KACE,kBAAC,EAAD,KACE,kBAACG,EAAQC,GAAT,eAAoBoE,EAAOoC,KAA3B,KACA,kBAAC,IAAD,CAAMwF,GAAG,QACP,kBAAC/L,EAAD,yBAIF,kBAACA,EAAD,CAAQiG,QAdK,WACjBxF,EAAsB,IACtByD,MAYI,WC+BOqB,gBAjD6B,SAAC,GAEtC,IADLC,EACI,EADJA,QACI,EACmCnB,IAAMyB,WAAW1B,GAAhDD,EADJ,EACIA,OAAgB0B,EADpB,EACY3B,OACVyB,EAAWtB,IAAMqB,YAFnB,EAGoBrB,IAAMG,UAAkB,GAH5C,mBAGGE,EAHH,KAGSkB,EAHT,KAgCJ,GAAe,OAAXzB,EACF,MAAM,IAAIoH,MAAM,kBAGlB,OACE,kBAAC5L,EAAD,KACE,kBAAC,EAAD,KACE,kBAACG,EAAQC,GAAT,wBACA,kBAACG,EAAD,CAAO6F,YAAY,YAAYC,IAAQL,IACvC,kBAAC3F,EAAD,CAAQiG,QArCM,SAACC,GACnBA,EAAEC,iBAECR,EAASd,SACoB,KAA3Bc,EAASd,QAAQS,QAItBhC,QAAQC,QAAQ,CACdgD,KAAMZ,EAASd,QAAQS,QAEtB3C,MAAK,+BAAAV,EAAAC,OAAA,uDAASqE,EAAT,EAASA,KAAT,WAAAtE,EAAA,MAKMuE,EAAyB,CAAED,UALjC,gBAGIE,EAHJ,EAEFC,WACEC,GAGJf,GAAQ,GACRJ,EAAQoB,KAAK,IAAIH,GACjBZ,IARI,wCAULgB,OAAM,SAAA7B,GACLC,QAAQD,MAAMA,GACdY,GAAQ,MAGZA,GAAQ,KAW4BkB,SAAapC,GAA7C,sBC3CFsI,GAAqB,kBACzB,kBAACrN,EAAD,KACE,kBAACG,EAAQC,GAAT,yBAIEoM,GAA0C,SAAC,GAAD,IAAG9F,EAAH,EAAGA,KAAH,OAC9C,kBAAC1G,EAAD,KACE,kBAACG,EAAQC,GAAT,sBACiBsG,EAAKE,KADtB,2BAME0G,GAAuC,SAAC,GAAc,IAAZ5G,EAAW,EAAXA,KACtCnC,EAAWG,IAAMyB,WAAW1B,GAA5BF,OAaR,OAXAG,IAAMa,WAAU,WACdmH,GAAwB,CACtB1F,GAAIN,EAAKM,KAERhE,MAAK,kBAAMuB,OACX2C,OAAM,SAAA7B,GAAK,OAAIC,QAAQD,MAAMA,QAC/B,CACDd,EACAmC,IAGK,wDAGHiG,GAAYC,IAAmB,gBAAGlG,EAAH,EAAGA,KAAH,OACnCA,EACEA,EAAKmG,WACH,kBAAC,GAAD,CAAcnG,KAAMA,IACpB,kBAAC,GAAD,CAAWA,KAAMA,IACnB,kBAAC,GAAD,SAGWd,gBAAW,SACxB6B,GADwB,OAGxB,kBAAC,GAAD,CACEpF,UAAW,CACTyE,OAAQW,EAAMqF,MAAMC,OAAO/F,SC5ClBuG,GARS,kBACtB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAON,OAAK,EAACC,KAAK,IAAIC,UAAWC,KACjC,kBAAC,IAAD,CAAOF,KAAK,OAAOC,UAAWK,KAC9B,kBAAC,IAAD,CAAON,KAAK,OAAOC,UAAWV,OCT5B/I,GAAQ,0BAMC,qBAAMD,EAElB,CAAEC,eC6CU+J,GA3CU,WAAO,IAAD,EACF/I,IAAMyB,WAAW1B,GAApCD,EADqB,EACrBA,OAAQD,EADa,EACbA,OADa,EAELG,IAAMG,UAAkB,GAFnB,mBAEtBE,EAFsB,KAEhBkB,EAFgB,KAG7B,GAAe,OAAXzB,EACF,MAAM,IAAIoH,MAAM,kBAJW,IAMrBS,EAAgB7H,EAAhB6H,YACR,GAAoB,OAAhBA,EACF,MAAM,IAAIT,MAAM,wBAkBlB,OACE,kBAAC5L,EAAD,KACE,kBAAC,EAAD,KACE,kBAACG,EAAQC,GAAT,eAAoBoE,EAAOoC,KAA3B,KACA,kBAAC,IAAD,CAAMwF,GAAE,WAAMC,EAAYrF,IAAMV,QAAS,SAACC,GAAD,OAAOxB,GAAQwB,EAAEC,mBACxD,kBAACnG,EAAD,CAAQ8G,SAAUpC,GAAlB,WACasH,EAAYzF,KADzB,MAIF,kBAACvG,EAAD,CAAQ8G,SAAUpC,EAAMuB,QAxBN,WACtBL,GAAQ,GACRyH,KACG1K,MACC,WACEiD,GAAQ,GACR1B,OAEF,SAAAP,GACEsB,QAAQD,MAAMrB,GACdiC,GAAQ,QAcV,gBCsBOL,gBAnDV,SAAC,GAGC,IAFLa,EAEI,EAFJA,KACAZ,EACI,EADJA,QACI,EACuBnB,IAAMyB,WAAW1B,GAApCD,EADJ,EACIA,OAAQD,EADZ,EACYA,OAChB,GAAe,OAAXC,EACF,MAAM,IAAIoH,MAAM,kBAHd,IAKIS,EAAgB7H,EAAhB6H,YACR,GAAoB,OAAhBA,EACF,MAAM,IAAIT,MAAM,wBAPd,MASoBlH,IAAMG,UAAkB,GAT5C,mBASGE,EATH,KASSkB,EATT,KAyBJ,OACE,oCACE,kBAAC9F,EAAQC,GAAT,SAAcqG,EAAKG,KAAnB,2BACA,kBAAC,EAAD,KACE,kBAAC,IAAD,CACEwF,GAAE,WAAMC,EAAYrF,IACpBV,QAAS,SAACC,GAAD,OAAOxB,GAAQwB,EAAEC,mBAE1B,kBAACnG,EAAD,CAAQ8G,SAAUpC,GAAlB,uBAIF,kBAAC1E,EAAD,CACE8G,SAAUpC,EACVuB,QA7Be,WACrBL,GAAQ,GACRyH,KACG1K,MACC,WACEiD,GAAQ,GACRJ,EAAQoB,KAAK,KACb1C,OAEF,SAACc,GACCC,QAAQD,MAAMA,GACdY,GAAQ,QAgBV,kBCrCFnD,GAAK,0BAmDL6K,GAED,SAAClG,GAAD,OACH,kBAAC,GAAD,CACE3E,MAAOA,GACPuE,OAAQ,gBACN7C,EADM,EACNA,OACAmD,EAFM,EAENA,MAFM,OAONnD,EACEmD,EAEE,kBAAC,GAAD,eACEnD,OAAQA,EACRmD,MAAOA,GACHF,IAGN,kBAAC,IAAD,CAAU2E,GAAE,WAAM5H,EAAO6H,YAAYrF,MACvC,kBAAC,IAAD,CAAUoF,GAAG,UAuBNwB,GAlBY,WAAO,IAAD,EACHlJ,IAAMG,SAAwC,MAD3C,mBACxBgJ,EADwB,KAChBC,EADgB,KAG/B,OACE,kBAAC9N,EAAD,KAEI6N,EACE,kBAAC,GAAeA,GAEhB,kBAAC,GAAD,CACEtC,WAAYuC,M,qBC3GlBpK,GAAQ,0BAUC,YAACqK,GAAD,OAAoBtK,EAIhC,CAAEC,YAAUrB,UAAW,CAAE0L,Y,gJCD5B,IAAMC,GAAc/N,IAAOgO,IAAV,MAOXC,GAAmC,SAAC,GAAc,IAAZ3B,EAAW,EAAXA,KAAW,EAC/B7H,IAAMG,SAAiB,IADQ,mBAC9CsJ,EAD8C,KACzCC,EADyC,KAOrD,OAJA1J,IAAMa,WAAU,WACd8I,KAAOC,UAAU/B,GAAMvJ,KAAKoL,KAC3B,CAAC7B,IAGF,kBAACyB,GAAD,CACEO,IAAKJ,KAKLhK,GAAY,0BAkCHyB,gBA1BiC,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACjCK,EAAexB,IAAMyB,WAAW1B,GAAxCF,OAiBR,OAhBAG,IAAMa,WAAU,WAAO,IACb+F,EAAYpH,EAAoB,CACtCC,gBACAC,OAAQ,SAAOoK,GAAP,SAAAlM,EAAAC,OAAA,oDACFiM,EAASC,sBAAsB5B,WAD7B,kCAAAvK,EAAA,MAEE4D,KAFF,OAGJL,EAAQoB,KAAK,SAHT,wCAFFqE,QAUR,OADAoD,IAAuB,GAChB,WACLpD,IACAoD,IAAuB,OAIzB,kBAAC1O,EAAD,KACE,kBAACG,EAAQC,GAAT,iCACA,kBAAC,GAAD,CAAQmM,KAAMvL,OAAO2N,SAASC,WCArBC,GA7CV,SAAC,GAGC,IAFLxC,EAEI,EAFJA,YACAyC,EACI,EADJA,WAEQvK,EAAWG,IAAMyB,WAAW1B,GAA5BF,OADJ,EAEoBG,IAAMG,UAAkB,GAF5C,mBAEGE,EAFH,KAESkB,EAFT,KAoBJ,OACE,kBAACjG,EAAD,KACE,kBAAC,EAAD,KACE,kBAAC,IAAD,CACEoM,GAAE,WAAMC,EAAYrF,IACpBV,QAAS,SAAAC,GAAC,OAAIxB,GAAQwB,EAAEC,mBAExB,kBAACnG,EAAD,CAAQ8G,SAAUpC,GAAlB,cACcsH,EAAYzF,KAD1B,MAIF,kBAACvG,EAAD,CACE8G,SAAUpC,EACVuB,QA9BY,WAClBL,GAAQ,GACRtC,QAAQC,UACLZ,MAAK,oBAAAV,EAAAC,OAAA,kEAAAD,EAAA,MACEoM,IAAuB,IADzB,yBAAApM,EAAA,MAEEoL,MAFF,yBAAApL,EAAA,MAGEoK,GAAwB,CAC5B1F,GAAI8H,EAAW9H,MAJb,OAMJf,GAAQ,GACR1B,IAPI,wCASL2C,OAAM,SAAA7B,GACLC,QAAQD,MAAMA,GACdY,GAAQ,QAcR,UAIU6I,EAAWlI,KAJrB,QCpCFyG,GAAqB,kBACzB,kBAACrN,EAAD,KACE,kBAACG,EAAQC,GAAT,yBAIEoM,GAAwC,SAAC,GAAD,IAAG9F,EAAH,EAAGA,KAAH,OAC5C,kBAAC1G,EAAD,KACE,kBAACG,EAAQC,GAAT,sBACiBsG,EAAKE,KADtB,2BAME6F,GAAkC,SAAC,GAAc,IAAZ/F,EAAW,EAAXA,KACjClC,EAAWE,IAAMyB,WAAW1B,GAA5BD,OACR,GAAe,OAAXA,EACF,MAAM,IAAIoH,MAAM,kBAHkC,IAK5CS,EAAgB7H,EAAhB6H,YACR,GAAoB,OAAhBA,EACF,MAAM,IAAIT,MAAM,wBAGlB,OACES,EAAYrF,KAAON,EAAKM,GACtBN,EAAKmG,WACH,kBAAC,IAAD,CAAUT,GAAG,UACb,kBAAC2C,GAAD,MACFrI,EAAKmG,WACH,kBAAC,GAAD,CAAcnG,KAAMA,IAEpB,kBAAC,GAAD,CACE2F,YAAaA,EACbyC,WAAYpI,KAMhBiG,GAAYC,IAAmB,gBAAGlG,EAAH,EAAGA,KAAH,OACnCA,EACE,kBAAC,GAAD,CAAMA,KAAMA,IACZ,kBAAC,GAAD,SAGWd,gBAAW,SACxB6B,GADwB,OAGxB,kBAAC,GAAD,CACEpF,UAAW,CACTyE,OAAQW,EAAMqF,MAAMC,OAAO/F,SCtDlByF,GARQ,kBACrB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOQ,OAAK,EAACC,KAAK,IAAIC,UAAW6B,KACjC,kBAAC,IAAD,CAAO9B,KAAK,QAAQC,UAAW8B,KAC/B,kBAAC,IAAD,CAAO/B,KAAK,OAAOC,UAAW+B,OCMnBC,GAbQ,WAAO,IACpB3K,EAAWE,IAAMyB,WAAW1B,GAA5BD,OACR,GAAe,OAAXA,EACF,MAAM,IAAIoH,MAAM,kBAGlB,OACyB,OAAvBpH,EAAO6H,YACL,kBAAC,GAAD,MACA,kBAAC,GAAD,OCDSe,GATQ,WAErB,OAAe,OADI1I,IAAMyB,WAAW1B,GAA5BD,OAEC,kBAAC,GAAD,MAEA,kBAAC,GAAD,OCQI4K,GAVO,WACpB,OACE,kBAAC,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,GAAD,SCDYC,QACW,cAA7BrO,OAAO2N,SAASW,UAEe,UAA7BtO,OAAO2N,SAASW,UAEhBtO,OAAO2N,SAASW,SAASxC,MACvB,2DCZNyC,IAASlI,OAAO,kBAAC,GAAD,MAASmI,SAASC,eAAe,SDqI3C,kBAAmBC,WACrBA,UAAUC,cAAc5B,MAAM/K,MAAK,SAAA4M,GACjCA,EAAaC,kB","file":"static/js/main.6322568e.chunk.js","sourcesContent":["/* tslint:disable */\n/* @relayHash 4fd8bcfef9b47aa3567a5618d85740a9 */\n\nimport { ConcreteRequest } from \"relay-runtime\";\nexport type viewerQueryVariables = {};\nexport type viewerQueryResponse = {\n    readonly viewer: {\n        readonly id: string;\n        readonly name: string;\n        readonly currentRoom: {\n            readonly id: string;\n            readonly name: string;\n            readonly gameActive: boolean;\n        } | null;\n    } | null;\n};\nexport type viewerQuery = {\n    readonly response: viewerQueryResponse;\n    readonly variables: viewerQueryVariables;\n};\n\n\n\n/*\nquery viewerQuery {\n  viewer {\n    id\n    name\n    currentRoom {\n      id\n      name\n      gameActive\n    }\n  }\n}\n*/\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"kind\": \"ScalarField\",\n  \"alias\": null,\n  \"name\": \"id\",\n  \"args\": null,\n  \"storageKey\": null\n},\nv1 = {\n  \"kind\": \"ScalarField\",\n  \"alias\": null,\n  \"name\": \"name\",\n  \"args\": null,\n  \"storageKey\": null\n},\nv2 = [\n  {\n    \"kind\": \"LinkedField\",\n    \"alias\": null,\n    \"name\": \"viewer\",\n    \"storageKey\": null,\n    \"args\": null,\n    \"concreteType\": \"User\",\n    \"plural\": false,\n    \"selections\": [\n      (v0/*: any*/),\n      (v1/*: any*/),\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"currentRoom\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"Room\",\n        \"plural\": false,\n        \"selections\": [\n          (v0/*: any*/),\n          (v1/*: any*/),\n          {\n            \"kind\": \"ScalarField\",\n            \"alias\": null,\n            \"name\": \"gameActive\",\n            \"args\": null,\n            \"storageKey\": null\n          }\n        ]\n      }\n    ]\n  }\n];\nreturn {\n  \"kind\": \"Request\",\n  \"fragment\": {\n    \"kind\": \"Fragment\",\n    \"name\": \"viewerQuery\",\n    \"type\": \"Query\",\n    \"metadata\": null,\n    \"argumentDefinitions\": [],\n    \"selections\": (v2/*: any*/)\n  },\n  \"operation\": {\n    \"kind\": \"Operation\",\n    \"name\": \"viewerQuery\",\n    \"argumentDefinitions\": [],\n    \"selections\": (v2/*: any*/)\n  },\n  \"params\": {\n    \"operationKind\": \"query\",\n    \"name\": \"viewerQuery\",\n    \"id\": null,\n    \"text\": \"query viewerQuery {\\n  viewer {\\n    id\\n    name\\n    currentRoom {\\n      id\\n      name\\n      gameActive\\n    }\\n  }\\n}\\n\",\n    \"metadata\": {}\n  }\n};\n})();\n(node as any).hash = '5fe46b1806d1782fb79fec17d593f2c9';\nexport default node;\n","/* tslint:disable */\n/* @relayHash 381239179ba58c91c31ef665b06ac140 */\n\nimport { ConcreteRequest } from \"relay-runtime\";\nexport type createUserInput = {\n    readonly name: string;\n};\nexport type createUserMutationVariables = {\n    input: createUserInput;\n};\nexport type createUserMutationResponse = {\n    readonly token: unknown;\n};\nexport type createUserMutation = {\n    readonly response: createUserMutationResponse;\n    readonly variables: createUserMutationVariables;\n};\n\n\n\n/*\nmutation createUserMutation(\n  $input: createUserInput!\n) {\n  token: createUser(input: $input)\n}\n*/\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"kind\": \"LocalArgument\",\n    \"name\": \"input\",\n    \"type\": \"createUserInput!\",\n    \"defaultValue\": null\n  }\n],\nv1 = [\n  {\n    \"kind\": \"ScalarField\",\n    \"alias\": \"token\",\n    \"name\": \"createUser\",\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"input\",\n        \"variableName\": \"input\"\n      }\n    ],\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"kind\": \"Request\",\n  \"fragment\": {\n    \"kind\": \"Fragment\",\n    \"name\": \"createUserMutation\",\n    \"type\": \"Mutation\",\n    \"metadata\": null,\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"selections\": (v1/*: any*/)\n  },\n  \"operation\": {\n    \"kind\": \"Operation\",\n    \"name\": \"createUserMutation\",\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"operationKind\": \"mutation\",\n    \"name\": \"createUserMutation\",\n    \"id\": null,\n    \"text\": \"mutation createUserMutation(\\n  $input: createUserInput!\\n) {\\n  token: createUser(input: $input)\\n}\\n\",\n    \"metadata\": {}\n  }\n};\n})();\n(node as any).hash = 'f32510d4c88ba6c5b07a66503bbd705d';\nexport default node;\n","/* tslint:disable */\n/* @relayHash 1e3119f74ffbd6bed4f4b2813c97bbb6 */\n\nimport { ConcreteRequest } from \"relay-runtime\";\nexport type createRoomMutationVariables = {\n    name: string;\n};\nexport type createRoomMutationResponse = {\n    readonly createRoom: {\n        readonly id: string;\n    };\n};\nexport type createRoomMutation = {\n    readonly response: createRoomMutationResponse;\n    readonly variables: createRoomMutationVariables;\n};\n\n\n\n/*\nmutation createRoomMutation(\n  $name: String!\n) {\n  createRoom(name: $name) {\n    id\n  }\n}\n*/\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"kind\": \"LocalArgument\",\n    \"name\": \"name\",\n    \"type\": \"String!\",\n    \"defaultValue\": null\n  }\n],\nv1 = [\n  {\n    \"kind\": \"LinkedField\",\n    \"alias\": null,\n    \"name\": \"createRoom\",\n    \"storageKey\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"name\",\n        \"variableName\": \"name\"\n      }\n    ],\n    \"concreteType\": \"Room\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"kind\": \"ScalarField\",\n        \"alias\": null,\n        \"name\": \"id\",\n        \"args\": null,\n        \"storageKey\": null\n      }\n    ]\n  }\n];\nreturn {\n  \"kind\": \"Request\",\n  \"fragment\": {\n    \"kind\": \"Fragment\",\n    \"name\": \"createRoomMutation\",\n    \"type\": \"Mutation\",\n    \"metadata\": null,\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"selections\": (v1/*: any*/)\n  },\n  \"operation\": {\n    \"kind\": \"Operation\",\n    \"name\": \"createRoomMutation\",\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"operationKind\": \"mutation\",\n    \"name\": \"createRoomMutation\",\n    \"id\": null,\n    \"text\": \"mutation createRoomMutation(\\n  $name: String!\\n) {\\n  createRoom(name: $name) {\\n    id\\n  }\\n}\\n\",\n    \"metadata\": {}\n  }\n};\n})();\n(node as any).hash = '67f4d1bdc244fb594833a0d2bfac4db6';\nexport default node;\n","/* tslint:disable */\n/* @relayHash fd9bf0e41b1d7656b0737561cc9e77c5 */\n\nimport { ConcreteRequest } from \"relay-runtime\";\nexport type enterRoomMutationVariables = {\n    id: string;\n};\nexport type enterRoomMutationResponse = {\n    readonly enterRoom: {\n        readonly gameActive: boolean;\n    } | null;\n};\nexport type enterRoomMutation = {\n    readonly response: enterRoomMutationResponse;\n    readonly variables: enterRoomMutationVariables;\n};\n\n\n\n/*\nmutation enterRoomMutation(\n  $id: ID!\n) {\n  enterRoom(id: $id) {\n    gameActive\n    id\n  }\n}\n*/\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"kind\": \"LocalArgument\",\n    \"name\": \"id\",\n    \"type\": \"ID!\",\n    \"defaultValue\": null\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"id\",\n    \"variableName\": \"id\"\n  }\n],\nv2 = {\n  \"kind\": \"ScalarField\",\n  \"alias\": null,\n  \"name\": \"gameActive\",\n  \"args\": null,\n  \"storageKey\": null\n};\nreturn {\n  \"kind\": \"Request\",\n  \"fragment\": {\n    \"kind\": \"Fragment\",\n    \"name\": \"enterRoomMutation\",\n    \"type\": \"Mutation\",\n    \"metadata\": null,\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"selections\": [\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"enterRoom\",\n        \"storageKey\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"Room\",\n        \"plural\": false,\n        \"selections\": [\n          (v2/*: any*/)\n        ]\n      }\n    ]\n  },\n  \"operation\": {\n    \"kind\": \"Operation\",\n    \"name\": \"enterRoomMutation\",\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"selections\": [\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"enterRoom\",\n        \"storageKey\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"Room\",\n        \"plural\": false,\n        \"selections\": [\n          (v2/*: any*/),\n          {\n            \"kind\": \"ScalarField\",\n            \"alias\": null,\n            \"name\": \"id\",\n            \"args\": null,\n            \"storageKey\": null\n          }\n        ]\n      }\n    ]\n  },\n  \"params\": {\n    \"operationKind\": \"mutation\",\n    \"name\": \"enterRoomMutation\",\n    \"id\": null,\n    \"text\": \"mutation enterRoomMutation(\\n  $id: ID!\\n) {\\n  enterRoom(id: $id) {\\n    gameActive\\n    id\\n  }\\n}\\n\",\n    \"metadata\": {}\n  }\n};\n})();\n(node as any).hash = 'ac01245e124a91f83b0ed1dc4a860376';\nexport default node;\n","/* tslint:disable */\n/* @relayHash ed9845175bfb76442214b9ff858aa0f2 */\n\nimport { ConcreteRequest } from \"relay-runtime\";\nexport type makeStepInput = {\n    readonly x: number;\n    readonly y: number;\n};\nexport type makeStepMutationVariables = {\n    input: makeStepInput;\n};\nexport type makeStepMutationResponse = {\n    readonly makeStep: {\n        readonly currentPlayer: {\n            readonly id: string;\n        } | null;\n    } | null;\n};\nexport type makeStepMutation = {\n    readonly response: makeStepMutationResponse;\n    readonly variables: makeStepMutationVariables;\n};\n\n\n\n/*\nmutation makeStepMutation(\n  $input: makeStepInput!\n) {\n  makeStep(input: $input) {\n    currentPlayer {\n      id\n    }\n  }\n}\n*/\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"kind\": \"LocalArgument\",\n    \"name\": \"input\",\n    \"type\": \"makeStepInput!\",\n    \"defaultValue\": null\n  }\n],\nv1 = [\n  {\n    \"kind\": \"LinkedField\",\n    \"alias\": null,\n    \"name\": \"makeStep\",\n    \"storageKey\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"input\",\n        \"variableName\": \"input\"\n      }\n    ],\n    \"concreteType\": \"Board\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"currentPlayer\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"User\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"kind\": \"ScalarField\",\n            \"alias\": null,\n            \"name\": \"id\",\n            \"args\": null,\n            \"storageKey\": null\n          }\n        ]\n      }\n    ]\n  }\n];\nreturn {\n  \"kind\": \"Request\",\n  \"fragment\": {\n    \"kind\": \"Fragment\",\n    \"name\": \"makeStepMutation\",\n    \"type\": \"Mutation\",\n    \"metadata\": null,\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"selections\": (v1/*: any*/)\n  },\n  \"operation\": {\n    \"kind\": \"Operation\",\n    \"name\": \"makeStepMutation\",\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"operationKind\": \"mutation\",\n    \"name\": \"makeStepMutation\",\n    \"id\": null,\n    \"text\": \"mutation makeStepMutation(\\n  $input: makeStepInput!\\n) {\\n  makeStep(input: $input) {\\n    currentPlayer {\\n      id\\n    }\\n  }\\n}\\n\",\n    \"metadata\": {}\n  }\n};\n})();\n(node as any).hash = '2f05ad08e2c18819ef18a051916df8f1';\nexport default node;\n","/* tslint:disable */\n/* @relayHash 5c0edbdc7a28324abc2fa1e56baffd13 */\n\nimport { ConcreteRequest } from \"relay-runtime\";\nexport type GameBoardSubscriptionVariables = {};\nexport type GameBoardSubscriptionResponse = {\n    readonly waitBoardChange: {\n        readonly lastStep: {\n            readonly position: {\n                readonly x: number;\n                readonly y: number;\n            };\n            readonly owner: {\n                readonly id: string;\n            };\n        };\n        readonly possibleSteps: ReadonlyArray<{\n            readonly x: number;\n            readonly y: number;\n        } | null>;\n        readonly currentPlayer: {\n            readonly id: string;\n        } | null;\n        readonly winner: {\n            readonly id: string;\n            readonly name: string;\n        } | null;\n        readonly winnerLine: ReadonlyArray<{\n            readonly x: number;\n            readonly y: number;\n        } | null> | null;\n    } | null;\n};\nexport type GameBoardSubscription = {\n    readonly response: GameBoardSubscriptionResponse;\n    readonly variables: GameBoardSubscriptionVariables;\n};\n\n\n\n/*\nsubscription GameBoardSubscription {\n  waitBoardChange {\n    lastStep {\n      position {\n        x\n        y\n      }\n      owner {\n        id\n      }\n    }\n    possibleSteps {\n      x\n      y\n    }\n    currentPlayer {\n      id\n    }\n    winner {\n      id\n      name\n    }\n    winnerLine {\n      x\n      y\n    }\n  }\n}\n*/\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"kind\": \"ScalarField\",\n    \"alias\": null,\n    \"name\": \"x\",\n    \"args\": null,\n    \"storageKey\": null\n  },\n  {\n    \"kind\": \"ScalarField\",\n    \"alias\": null,\n    \"name\": \"y\",\n    \"args\": null,\n    \"storageKey\": null\n  }\n],\nv1 = {\n  \"kind\": \"ScalarField\",\n  \"alias\": null,\n  \"name\": \"id\",\n  \"args\": null,\n  \"storageKey\": null\n},\nv2 = [\n  (v1/*: any*/)\n],\nv3 = [\n  {\n    \"kind\": \"LinkedField\",\n    \"alias\": null,\n    \"name\": \"waitBoardChange\",\n    \"storageKey\": null,\n    \"args\": null,\n    \"concreteType\": \"Board\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"lastStep\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"Cell\",\n        \"plural\": false,\n        \"selections\": [\n          {\n            \"kind\": \"LinkedField\",\n            \"alias\": null,\n            \"name\": \"position\",\n            \"storageKey\": null,\n            \"args\": null,\n            \"concreteType\": \"Position\",\n            \"plural\": false,\n            \"selections\": (v0/*: any*/)\n          },\n          {\n            \"kind\": \"LinkedField\",\n            \"alias\": null,\n            \"name\": \"owner\",\n            \"storageKey\": null,\n            \"args\": null,\n            \"concreteType\": \"User\",\n            \"plural\": false,\n            \"selections\": (v2/*: any*/)\n          }\n        ]\n      },\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"possibleSteps\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"Position\",\n        \"plural\": true,\n        \"selections\": (v0/*: any*/)\n      },\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"currentPlayer\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"User\",\n        \"plural\": false,\n        \"selections\": (v2/*: any*/)\n      },\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"winner\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"User\",\n        \"plural\": false,\n        \"selections\": [\n          (v1/*: any*/),\n          {\n            \"kind\": \"ScalarField\",\n            \"alias\": null,\n            \"name\": \"name\",\n            \"args\": null,\n            \"storageKey\": null\n          }\n        ]\n      },\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"winnerLine\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"Position\",\n        \"plural\": true,\n        \"selections\": (v0/*: any*/)\n      }\n    ]\n  }\n];\nreturn {\n  \"kind\": \"Request\",\n  \"fragment\": {\n    \"kind\": \"Fragment\",\n    \"name\": \"GameBoardSubscription\",\n    \"type\": \"Subscription\",\n    \"metadata\": null,\n    \"argumentDefinitions\": [],\n    \"selections\": (v3/*: any*/)\n  },\n  \"operation\": {\n    \"kind\": \"Operation\",\n    \"name\": \"GameBoardSubscription\",\n    \"argumentDefinitions\": [],\n    \"selections\": (v3/*: any*/)\n  },\n  \"params\": {\n    \"operationKind\": \"subscription\",\n    \"name\": \"GameBoardSubscription\",\n    \"id\": null,\n    \"text\": \"subscription GameBoardSubscription {\\n  waitBoardChange {\\n    lastStep {\\n      position {\\n        x\\n        y\\n      }\\n      owner {\\n        id\\n      }\\n    }\\n    possibleSteps {\\n      x\\n      y\\n    }\\n    currentPlayer {\\n      id\\n    }\\n    winner {\\n      id\\n      name\\n    }\\n    winnerLine {\\n      x\\n      y\\n    }\\n  }\\n}\\n\",\n    \"metadata\": {}\n  }\n};\n})();\n(node as any).hash = '00245dc117fa0a2f6778df27d8558698';\nexport default node;\n","/* tslint:disable */\n/* @relayHash 1a7e25cd395c969521d190ff711dfcd9 */\n\nimport { ConcreteRequest } from \"relay-runtime\";\nexport type GameBoardUserExitSubscriptionVariables = {};\nexport type GameBoardUserExitSubscriptionResponse = {\n    readonly userExit: {\n        readonly id: string;\n        readonly name: string;\n    } | null;\n};\nexport type GameBoardUserExitSubscription = {\n    readonly response: GameBoardUserExitSubscriptionResponse;\n    readonly variables: GameBoardUserExitSubscriptionVariables;\n};\n\n\n\n/*\nsubscription GameBoardUserExitSubscription {\n  userExit {\n    id\n    name\n  }\n}\n*/\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"kind\": \"LinkedField\",\n    \"alias\": null,\n    \"name\": \"userExit\",\n    \"storageKey\": null,\n    \"args\": null,\n    \"concreteType\": \"User\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"kind\": \"ScalarField\",\n        \"alias\": null,\n        \"name\": \"id\",\n        \"args\": null,\n        \"storageKey\": null\n      },\n      {\n        \"kind\": \"ScalarField\",\n        \"alias\": null,\n        \"name\": \"name\",\n        \"args\": null,\n        \"storageKey\": null\n      }\n    ]\n  }\n];\nreturn {\n  \"kind\": \"Request\",\n  \"fragment\": {\n    \"kind\": \"Fragment\",\n    \"name\": \"GameBoardUserExitSubscription\",\n    \"type\": \"Subscription\",\n    \"metadata\": null,\n    \"argumentDefinitions\": [],\n    \"selections\": (v0/*: any*/)\n  },\n  \"operation\": {\n    \"kind\": \"Operation\",\n    \"name\": \"GameBoardUserExitSubscription\",\n    \"argumentDefinitions\": [],\n    \"selections\": (v0/*: any*/)\n  },\n  \"params\": {\n    \"operationKind\": \"subscription\",\n    \"name\": \"GameBoardUserExitSubscription\",\n    \"id\": null,\n    \"text\": \"subscription GameBoardUserExitSubscription {\\n  userExit {\\n    id\\n    name\\n  }\\n}\\n\",\n    \"metadata\": {}\n  }\n};\n})();\n(node as any).hash = 'c1a2e315a9612fb2e74201a175cd5836';\nexport default node;\n","/* tslint:disable */\n/* @relayHash 835db3b1391585194b5fcb356de1d41b */\n\nimport { ConcreteRequest } from \"relay-runtime\";\nexport type roomQueryForRoomQueryVariables = {\n    roomId: string;\n};\nexport type roomQueryForRoomQueryResponse = {\n    readonly room: {\n        readonly id: string;\n        readonly name: string;\n        readonly gameActive: boolean;\n    } | null;\n};\nexport type roomQueryForRoomQuery = {\n    readonly response: roomQueryForRoomQueryResponse;\n    readonly variables: roomQueryForRoomQueryVariables;\n};\n\n\n\n/*\nquery roomQueryForRoomQuery(\n  $roomId: ID!\n) {\n  room: getRoom(id: $roomId) {\n    id\n    name\n    gameActive\n  }\n}\n*/\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"kind\": \"LocalArgument\",\n    \"name\": \"roomId\",\n    \"type\": \"ID!\",\n    \"defaultValue\": null\n  }\n],\nv1 = [\n  {\n    \"kind\": \"LinkedField\",\n    \"alias\": \"room\",\n    \"name\": \"getRoom\",\n    \"storageKey\": null,\n    \"args\": [\n      {\n        \"kind\": \"Variable\",\n        \"name\": \"id\",\n        \"variableName\": \"roomId\"\n      }\n    ],\n    \"concreteType\": \"Room\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"kind\": \"ScalarField\",\n        \"alias\": null,\n        \"name\": \"id\",\n        \"args\": null,\n        \"storageKey\": null\n      },\n      {\n        \"kind\": \"ScalarField\",\n        \"alias\": null,\n        \"name\": \"name\",\n        \"args\": null,\n        \"storageKey\": null\n      },\n      {\n        \"kind\": \"ScalarField\",\n        \"alias\": null,\n        \"name\": \"gameActive\",\n        \"args\": null,\n        \"storageKey\": null\n      }\n    ]\n  }\n];\nreturn {\n  \"kind\": \"Request\",\n  \"fragment\": {\n    \"kind\": \"Fragment\",\n    \"name\": \"roomQueryForRoomQuery\",\n    \"type\": \"Query\",\n    \"metadata\": null,\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"selections\": (v1/*: any*/)\n  },\n  \"operation\": {\n    \"kind\": \"Operation\",\n    \"name\": \"roomQueryForRoomQuery\",\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"selections\": (v1/*: any*/)\n  },\n  \"params\": {\n    \"operationKind\": \"query\",\n    \"name\": \"roomQueryForRoomQuery\",\n    \"id\": null,\n    \"text\": \"query roomQueryForRoomQuery(\\n  $roomId: ID!\\n) {\\n  room: getRoom(id: $roomId) {\\n    id\\n    name\\n    gameActive\\n  }\\n}\\n\",\n    \"metadata\": {}\n  }\n};\n})();\n(node as any).hash = '255e79af990d585908e239a876fdc93f';\nexport default node;\n","/* tslint:disable */\n/* @relayHash 6a9495970dcb7cb2d55550902d82a4b6 */\n\nimport { ConcreteRequest } from \"relay-runtime\";\nexport type exitRoomMutationVariables = {};\nexport type exitRoomMutationResponse = {\n    readonly exitRoom: boolean | null;\n};\nexport type exitRoomMutation = {\n    readonly response: exitRoomMutationResponse;\n    readonly variables: exitRoomMutationVariables;\n};\n\n\n\n/*\nmutation exitRoomMutation {\n  exitRoom\n}\n*/\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"kind\": \"ScalarField\",\n    \"alias\": null,\n    \"name\": \"exitRoom\",\n    \"args\": null,\n    \"storageKey\": null\n  }\n];\nreturn {\n  \"kind\": \"Request\",\n  \"fragment\": {\n    \"kind\": \"Fragment\",\n    \"name\": \"exitRoomMutation\",\n    \"type\": \"Mutation\",\n    \"metadata\": null,\n    \"argumentDefinitions\": [],\n    \"selections\": (v0/*: any*/)\n  },\n  \"operation\": {\n    \"kind\": \"Operation\",\n    \"name\": \"exitRoomMutation\",\n    \"argumentDefinitions\": [],\n    \"selections\": (v0/*: any*/)\n  },\n  \"params\": {\n    \"operationKind\": \"mutation\",\n    \"name\": \"exitRoomMutation\",\n    \"id\": null,\n    \"text\": \"mutation exitRoomMutation {\\n  exitRoom\\n}\\n\",\n    \"metadata\": {}\n  }\n};\n})();\n(node as any).hash = '27f13537946efa85f8922b47205c4afc';\nexport default node;\n","/* tslint:disable */\n/* @relayHash 99274cfb307d888b568192df4ade7cee */\n\nimport { ConcreteRequest } from \"relay-runtime\";\nexport type GameQueryVariables = {};\nexport type GameQueryResponse = {\n    readonly board: {\n        readonly cells: ReadonlyArray<{\n            readonly position: {\n                readonly x: number;\n                readonly y: number;\n            };\n            readonly owner: {\n                readonly id: string;\n            };\n        } | null>;\n        readonly possibleSteps: ReadonlyArray<{\n            readonly x: number;\n            readonly y: number;\n        } | null>;\n        readonly lastStep: {\n            readonly position: {\n                readonly x: number;\n                readonly y: number;\n            };\n            readonly owner: {\n                readonly id: string;\n            };\n        };\n        readonly order: ReadonlyArray<{\n            readonly id: string;\n            readonly name: string;\n        } | null>;\n        readonly winner: {\n            readonly id: string;\n            readonly name: string;\n        } | null;\n        readonly winnerLine: ReadonlyArray<{\n            readonly x: number;\n            readonly y: number;\n        } | null> | null;\n        readonly currentPlayer: {\n            readonly id: string;\n        } | null;\n    } | null;\n    readonly viewer: {\n        readonly id: string;\n        readonly currentRoom: {\n            readonly id: string;\n        } | null;\n    } | null;\n};\nexport type GameQuery = {\n    readonly response: GameQueryResponse;\n    readonly variables: GameQueryVariables;\n};\n\n\n\n/*\nquery GameQuery {\n  board {\n    cells {\n      position {\n        x\n        y\n      }\n      owner {\n        id\n      }\n    }\n    possibleSteps {\n      x\n      y\n    }\n    lastStep {\n      position {\n        x\n        y\n      }\n      owner {\n        id\n      }\n    }\n    order {\n      id\n      name\n    }\n    winner {\n      id\n      name\n    }\n    winnerLine {\n      x\n      y\n    }\n    currentPlayer {\n      id\n    }\n  }\n  viewer {\n    id\n    currentRoom {\n      id\n    }\n  }\n}\n*/\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"kind\": \"ScalarField\",\n    \"alias\": null,\n    \"name\": \"x\",\n    \"args\": null,\n    \"storageKey\": null\n  },\n  {\n    \"kind\": \"ScalarField\",\n    \"alias\": null,\n    \"name\": \"y\",\n    \"args\": null,\n    \"storageKey\": null\n  }\n],\nv1 = {\n  \"kind\": \"ScalarField\",\n  \"alias\": null,\n  \"name\": \"id\",\n  \"args\": null,\n  \"storageKey\": null\n},\nv2 = [\n  (v1/*: any*/)\n],\nv3 = [\n  {\n    \"kind\": \"LinkedField\",\n    \"alias\": null,\n    \"name\": \"position\",\n    \"storageKey\": null,\n    \"args\": null,\n    \"concreteType\": \"Position\",\n    \"plural\": false,\n    \"selections\": (v0/*: any*/)\n  },\n  {\n    \"kind\": \"LinkedField\",\n    \"alias\": null,\n    \"name\": \"owner\",\n    \"storageKey\": null,\n    \"args\": null,\n    \"concreteType\": \"User\",\n    \"plural\": false,\n    \"selections\": (v2/*: any*/)\n  }\n],\nv4 = [\n  (v1/*: any*/),\n  {\n    \"kind\": \"ScalarField\",\n    \"alias\": null,\n    \"name\": \"name\",\n    \"args\": null,\n    \"storageKey\": null\n  }\n],\nv5 = [\n  {\n    \"kind\": \"LinkedField\",\n    \"alias\": null,\n    \"name\": \"board\",\n    \"storageKey\": null,\n    \"args\": null,\n    \"concreteType\": \"Board\",\n    \"plural\": false,\n    \"selections\": [\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"cells\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"Cell\",\n        \"plural\": true,\n        \"selections\": (v3/*: any*/)\n      },\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"possibleSteps\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"Position\",\n        \"plural\": true,\n        \"selections\": (v0/*: any*/)\n      },\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"lastStep\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"Cell\",\n        \"plural\": false,\n        \"selections\": (v3/*: any*/)\n      },\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"order\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"User\",\n        \"plural\": true,\n        \"selections\": (v4/*: any*/)\n      },\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"winner\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"User\",\n        \"plural\": false,\n        \"selections\": (v4/*: any*/)\n      },\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"winnerLine\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"Position\",\n        \"plural\": true,\n        \"selections\": (v0/*: any*/)\n      },\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"currentPlayer\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"User\",\n        \"plural\": false,\n        \"selections\": (v2/*: any*/)\n      }\n    ]\n  },\n  {\n    \"kind\": \"LinkedField\",\n    \"alias\": null,\n    \"name\": \"viewer\",\n    \"storageKey\": null,\n    \"args\": null,\n    \"concreteType\": \"User\",\n    \"plural\": false,\n    \"selections\": [\n      (v1/*: any*/),\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"currentRoom\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"Room\",\n        \"plural\": false,\n        \"selections\": (v2/*: any*/)\n      }\n    ]\n  }\n];\nreturn {\n  \"kind\": \"Request\",\n  \"fragment\": {\n    \"kind\": \"Fragment\",\n    \"name\": \"GameQuery\",\n    \"type\": \"Query\",\n    \"metadata\": null,\n    \"argumentDefinitions\": [],\n    \"selections\": (v5/*: any*/)\n  },\n  \"operation\": {\n    \"kind\": \"Operation\",\n    \"name\": \"GameQuery\",\n    \"argumentDefinitions\": [],\n    \"selections\": (v5/*: any*/)\n  },\n  \"params\": {\n    \"operationKind\": \"query\",\n    \"name\": \"GameQuery\",\n    \"id\": null,\n    \"text\": \"query GameQuery {\\n  board {\\n    cells {\\n      position {\\n        x\\n        y\\n      }\\n      owner {\\n        id\\n      }\\n    }\\n    possibleSteps {\\n      x\\n      y\\n    }\\n    lastStep {\\n      position {\\n        x\\n        y\\n      }\\n      owner {\\n        id\\n      }\\n    }\\n    order {\\n      id\\n      name\\n    }\\n    winner {\\n      id\\n      name\\n    }\\n    winnerLine {\\n      x\\n      y\\n    }\\n    currentPlayer {\\n      id\\n    }\\n  }\\n  viewer {\\n    id\\n    currentRoom {\\n      id\\n    }\\n  }\\n}\\n\",\n    \"metadata\": {}\n  }\n};\n})();\n(node as any).hash = '0c97c77bee1ffe415edbaec4486008f8';\nexport default node;\n","/* tslint:disable */\n/* @relayHash 592ac37e6985de891eb24950b14c4aea */\n\nimport { ConcreteRequest } from \"relay-runtime\";\nexport type setReadyMutationVariables = {\n    ready: boolean;\n};\nexport type setReadyMutationResponse = {\n    readonly setReady: {\n        readonly gameActive: boolean;\n    } | null;\n};\nexport type setReadyMutation = {\n    readonly response: setReadyMutationResponse;\n    readonly variables: setReadyMutationVariables;\n};\n\n\n\n/*\nmutation setReadyMutation(\n  $ready: Boolean!\n) {\n  setReady(ready: $ready) {\n    gameActive\n    id\n  }\n}\n*/\n\nconst node: ConcreteRequest = (function(){\nvar v0 = [\n  {\n    \"kind\": \"LocalArgument\",\n    \"name\": \"ready\",\n    \"type\": \"Boolean!\",\n    \"defaultValue\": null\n  }\n],\nv1 = [\n  {\n    \"kind\": \"Variable\",\n    \"name\": \"ready\",\n    \"variableName\": \"ready\"\n  }\n],\nv2 = {\n  \"kind\": \"ScalarField\",\n  \"alias\": null,\n  \"name\": \"gameActive\",\n  \"args\": null,\n  \"storageKey\": null\n};\nreturn {\n  \"kind\": \"Request\",\n  \"fragment\": {\n    \"kind\": \"Fragment\",\n    \"name\": \"setReadyMutation\",\n    \"type\": \"Mutation\",\n    \"metadata\": null,\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"selections\": [\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"setReady\",\n        \"storageKey\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"Room\",\n        \"plural\": false,\n        \"selections\": [\n          (v2/*: any*/)\n        ]\n      }\n    ]\n  },\n  \"operation\": {\n    \"kind\": \"Operation\",\n    \"name\": \"setReadyMutation\",\n    \"argumentDefinitions\": (v0/*: any*/),\n    \"selections\": [\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"setReady\",\n        \"storageKey\": null,\n        \"args\": (v1/*: any*/),\n        \"concreteType\": \"Room\",\n        \"plural\": false,\n        \"selections\": [\n          (v2/*: any*/),\n          {\n            \"kind\": \"ScalarField\",\n            \"alias\": null,\n            \"name\": \"id\",\n            \"args\": null,\n            \"storageKey\": null\n          }\n        ]\n      }\n    ]\n  },\n  \"params\": {\n    \"operationKind\": \"mutation\",\n    \"name\": \"setReadyMutation\",\n    \"id\": null,\n    \"text\": \"mutation setReadyMutation(\\n  $ready: Boolean!\\n) {\\n  setReady(ready: $ready) {\\n    gameActive\\n    id\\n  }\\n}\\n\",\n    \"metadata\": {}\n  }\n};\n})();\n(node as any).hash = '02e961b3e69ede717dcf0c1de93cbd00';\nexport default node;\n","/* tslint:disable */\n/* @relayHash 369fdee0d7fb4318f247a2374365ae59 */\n\nimport { ConcreteRequest } from \"relay-runtime\";\nexport type WaitPlayerSubscriptionVariables = {};\nexport type WaitPlayerSubscriptionResponse = {\n    readonly waitForOtherUser: {\n        readonly gameActive: boolean;\n    } | null;\n};\nexport type WaitPlayerSubscription = {\n    readonly response: WaitPlayerSubscriptionResponse;\n    readonly variables: WaitPlayerSubscriptionVariables;\n};\n\n\n\n/*\nsubscription WaitPlayerSubscription {\n  waitForOtherUser {\n    gameActive\n    id\n  }\n}\n*/\n\nconst node: ConcreteRequest = (function(){\nvar v0 = {\n  \"kind\": \"ScalarField\",\n  \"alias\": null,\n  \"name\": \"gameActive\",\n  \"args\": null,\n  \"storageKey\": null\n};\nreturn {\n  \"kind\": \"Request\",\n  \"fragment\": {\n    \"kind\": \"Fragment\",\n    \"name\": \"WaitPlayerSubscription\",\n    \"type\": \"Subscription\",\n    \"metadata\": null,\n    \"argumentDefinitions\": [],\n    \"selections\": [\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"waitForOtherUser\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"Room\",\n        \"plural\": false,\n        \"selections\": [\n          (v0/*: any*/)\n        ]\n      }\n    ]\n  },\n  \"operation\": {\n    \"kind\": \"Operation\",\n    \"name\": \"WaitPlayerSubscription\",\n    \"argumentDefinitions\": [],\n    \"selections\": [\n      {\n        \"kind\": \"LinkedField\",\n        \"alias\": null,\n        \"name\": \"waitForOtherUser\",\n        \"storageKey\": null,\n        \"args\": null,\n        \"concreteType\": \"Room\",\n        \"plural\": false,\n        \"selections\": [\n          (v0/*: any*/),\n          {\n            \"kind\": \"ScalarField\",\n            \"alias\": null,\n            \"name\": \"id\",\n            \"args\": null,\n            \"storageKey\": null\n          }\n        ]\n      }\n    ]\n  },\n  \"params\": {\n    \"operationKind\": \"subscription\",\n    \"name\": \"WaitPlayerSubscription\",\n    \"id\": null,\n    \"text\": \"subscription WaitPlayerSubscription {\\n  waitForOtherUser {\\n    gameActive\\n    id\\n  }\\n}\\n\",\n    \"metadata\": {}\n  }\n};\n})();\n(node as any).hash = '5bef5d6bffa8ea388cdfd500e37d269a';\nexport default node;\n","import React from \"react\"\nimport styled from \"styled-components\"\n\nexport const Page = styled.div`\n  width: 100vw;\n  height: 100vh;\n`\n\nexport const Heading = () => null\n\nHeading.h2 = styled.h2`\n  display: inline-block;\n  min-width: 100%;\n  margin: 4rem auto;\n  font-family: monospace;\n  text-align: center;\n  font-weight: 400;\n`\n\nexport const Button = styled.button`\n  display: inline-block;\n  padding: 0.5rem;\n  font-family: monospace;\n`\n\nexport const Input = styled.input`\n  padding: 0.5rem;\n  font-family: monospace;\n`\n\nconst LoginFormInner = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n  * {\n    margin: 0.5rem;\n  }\n`\n\nconst LoginFormOuter = styled.div`\n  padding: 12rem;\n  & ${LoginFormInner} {\n    margin: auto;\n    max-width: 720px;\n  }\n`\n\nexport const LoginForm: React.FC = ({ children }) => (\n  <LoginFormOuter>\n    <LoginFormInner>\n      { children }\n    </LoginFormInner>\n  </LoginFormOuter>\n)\n","const TOKEN_KEY = \"auth-token\"\n\nexport const setAuthorizationToken = (token: string) => {\n  window.localStorage.setItem(TOKEN_KEY, token)\n}\n\nexport const getAuthorizationToken = () => {\n  return window.localStorage.getItem(TOKEN_KEY) || \"\"\n}\n","import { execute, DocumentNode } from 'apollo-link'\nimport { WebSocketLink } from 'apollo-link-ws'\nimport { SubscriptionClient, Middleware } from 'subscriptions-transport-ws';\nimport {\n  Environment,\n  Network,\n  RecordSource,\n  Store,\n  RequestParameters,\n  Variables,\n} from 'relay-runtime';\n\nimport { getAuthorizationToken } from \"utils\"\n\nconst subscribtionUrl = process.env.REACT_APP_SUBSCRIPTIONS_URL || 'ws://localhost:4000/graphql';\n\nconst subscriptionClient = new SubscriptionClient(\n  subscribtionUrl,\n  {\n    reconnect: true,\n  },\n)\n\nconst subscriptionMiddleware: Middleware = {\n  applyMiddleware(options, next) {\n    options.authorization = getAuthorizationToken()\n    next()\n  }\n}\n\nsubscriptionClient.use([subscriptionMiddleware])\n\nconst subscriptionLink = new WebSocketLink(subscriptionClient)\n\nconst networkSubscriptions: any = (operation: {text: DocumentNode}, variables: Variables) =>\n  execute(subscriptionLink, {\n    query: operation.text,\n    variables,\n  })\n\nconst fetchQuery = async (\n  operation: RequestParameters,\n  variables: Variables,\n) => {\n  return fetch(process.env.REACT_APP_GRAPHQL_URL || \"\", {\n    method: 'POST',\n    headers: {\n      \"authorization\": getAuthorizationToken(),\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify({\n      query: operation.text, // GraphQL text from input\n      variables,\n    }),\n  }).then(response => {\n    return response.json();\n  })\n}\n\nconst network = Network.create(fetchQuery, networkSubscriptions);\nconst store = new Store(new RecordSource())\n\nconst environment = new Environment({\n  network,\n  store,\n});\n\nexport default environment;\n","import {\n  fetchQuery as relayFetchQuery,\n  commitMutation as relayCommitMutation,\n  requestSubscription  as relayRequestSubscription,\n  Variables,\n  GraphQLTaggedNode,\n} from \"react-relay\"\n\nimport environment from \"environment\"\n\nexport const fetchQuery = ({\n  query,\n  variables,\n}: {\n  query: GraphQLTaggedNode,\n  variables?: Variables,\n}) => relayFetchQuery<any>(\n  environment,\n  query,\n  variables,\n)\n\nexport const commitMutation = <R = any>({\n  mutation,\n  variables,\n}:{\n  mutation: GraphQLTaggedNode,\n  variables?: Variables,\n}) => new Promise<R>((resolve, reject) => {\n    relayCommitMutation(\n      environment,\n      {\n        mutation,\n        variables: variables || {},\n        onCompleted: (response, errors) => {\n          if (errors)\n            reject(errors)\n          resolve(response as R)\n        },\n        onError: reject,\n      },\n    )\n  }\n)\n\nexport const requestSubscription = ({\n  subscription,\n  variables,\n  onCompleted,\n  onNext,\n  onError,\n}: {\n  subscription: GraphQLTaggedNode,\n  variables?: Variables,\n  onCompleted?: () => void,\n  onNext?: (response: any) => void,\n  onError?: (error: Error) => void,\n}) => relayRequestSubscription(\n  environment,\n  {\n    subscription,\n    variables: variables || {},\n    onCompleted,\n    onError,\n    onNext,\n  }\n)\n","import React from \"react\"\nimport { graphql } from \"babel-plugin-relay/macro\"\n\nimport {\n  fetchQuery\n} from \"utils\"\n\nconst query = graphql`\n  query viewerQuery {\n    viewer {\n      id\n      name\n      currentRoom {\n        id\n        name\n        gameActive\n      }\n    }\n  }\n`\n\nexport interface Room {\n  id: string,\n  name: string,\n  gameActive: boolean,\n}\n\nexport interface Viewer {\n  id: string,\n  name: string,\n  currentRoom: Room | null,\n}\n\nexport interface ViewerContextValue {\n  update():Promise<Viewer | null>,\n  viewer: Viewer | null,\n}\n\nconst initialValue: ViewerContextValue = {\n  update: async () => null,\n  viewer: null,\n}\n\nexport const ViewerContext = React.createContext<ViewerContextValue>(initialValue)\n\nexport const ViewerContextProvider: React.FC = ({ children }) => {\n  const [viewer, setViewer] = React.useState<Viewer | null>(null)\n  const busy = React.useRef<Promise<Viewer | null> | null>(null)\n\n  const update = React.useCallback(() => {\n      if (busy.current) {\n        return busy.current\n      }\n      busy.current = fetchQuery({\n        query,\n      })\n        .then(\n          ({ viewer }) => {\n            busy.current = null\n            setViewer(viewer)\n            return viewer\n          },\n          (error) => {\n            console.error(error)\n            busy.current = null\n            setViewer(null)\n          },\n        )\n      return busy.current\n    },\n    [\n      busy,\n      setViewer,\n    ],\n  )\n\n  React.useEffect(\n    () => {\n      if (viewer === null) {\n        update()\n      }\n    },\n    [\n      viewer,\n      update,\n    ],\n  )\n\n  const provider = React.useMemo(() => (\n      <ViewerContext.Provider value={{ update, viewer }}>\n      { children }\n      </ViewerContext.Provider>\n    ),\n    [\n      update,\n      viewer,\n      children,\n    ],\n  )\n\n  return busy.current === null ? provider : <>Loading...</>\n}\n\nexport default ViewerContext\n","import { graphql } from \"babel-plugin-relay/macro\"\nimport {\n  commitMutation,\n} from \"utils\"\n\nconst mutation = graphql`\n  mutation createUserMutation(\n    $input: createUserInput!\n  ) {\n    token: createUser(input: $input)\n  }\n`\n\nexport default (input: {\n  name: string,\n}) => commitMutation<{ token: string }>({ mutation, variables: { input } })\n","import { graphql } from \"babel-plugin-relay/macro\"\nimport {\n  commitMutation,\n} from \"utils\"\n\nconst mutation = graphql`\n  mutation createRoomMutation(\n    $name: String!\n  ) {\n    createRoom(name: $name){\n      id\n    }\n  }\n`\n\nexport default (variables: {\n  name: string,\n}) => commitMutation<{\n  createRoom: {\n    id: string,\n  },\n}>({ mutation, variables })\n","import React from \"react\"\nimport { withRouter, RouteComponentProps } from \"react-router-dom\"\n\nimport {\n  Page,\n  Input,\n  Button,\n  LoginForm,\n} from \"styles\"\n\nimport ViewerContext from \"contexts/viewer\"\n\nimport commitCreateUserMutation from \"mutations/createUser\"\nimport commitCreateRoomMutation from \"mutations/createRoom\"\n\nimport {\n  setAuthorizationToken,\n} from \"utils\"\n\nconst Main: React.FC<RouteComponentProps> = ({ history }) => {\n  const userName = React.createRef<HTMLInputElement>()\n  const roomName = React.createRef<HTMLInputElement>()\n  const [busy, setBusy] = React.useState<boolean>(false)\n  const { update: updateUser } = React.useContext(ViewerContext)\n\n  const handleClick = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    e.preventDefault()\n    if (\n      !userName.current\n      || !roomName.current\n      || userName.current.value === \"\"\n      || roomName.current.value === \"\"\n    )\n      return\n\n    Promise.resolve({\n      user: userName.current.value,\n      room: roomName.current.value,\n    })\n      .then(async ({ user, room }) => {\n        const { token } = await commitCreateUserMutation({\n          name: user,\n        })\n\n        setAuthorizationToken(token)\n        const { createRoom: { id: roomId } } = await commitCreateRoomMutation({\n          name: room,\n        })\n\n        setBusy(false)\n        history.push(\"/\"+roomId)\n        updateUser()\n      })\n      .catch((errors) => {\n        console.error(errors)\n        setBusy(false)\n      })\n\n    setBusy(true)\n  }\n  return (\n    <Page>\n      <LoginForm>\n        <Input placeholder= \"User name\" ref = { userName } />\n        <Input placeholder=\"Room name\" ref = { roomName } />\n        <Button onClick={ handleClick } disabled = { busy } > Create room </Button>\n      </LoginForm>\n    </Page>\n  )\n}\n\nexport default withRouter(Main)\n","import { graphql } from \"babel-plugin-relay/macro\"\nimport {\n  commitMutation,\n} from \"utils\"\n\nconst mutation = graphql`\n  mutation enterRoomMutation(\n    $id: ID!\n  ) {\n    enterRoom(id: $id) {\n      gameActive\n    }\n  }\n`\n\nexport default (variables: {\n  id: string,\n}) => commitMutation<{\n  enterRoom: {\n    gameActive: boolean,\n  },\n}>({ mutation, variables })\n","import React from \"react\"\nimport environment from \"environment\"\nimport {\n  QueryRenderer as RelayQueryRenderer,\n  Variables,\n  GraphQLTaggedNode,\n} from \"react-relay\"\n\ninterface Props extends Variables {\n  query: GraphQLTaggedNode,\n  render: (props: any) => React.ReactNode,\n  renderNull?: () => React.ReactNode,\n  renderError?: (error: Error) => React.ReactNode,\n  variables?: Variables,\n}\n\nexport const QueryRenderer: React.FC<Props> = ({\n  query,\n  render,\n  renderNull,\n  renderError,\n  variables,\n  ...rest\n}) => (\n  <RelayQueryRenderer\n    query={query}\n    render={({ error, props }) => {\n      if (error) {\n        console.error(error)\n        if (renderError)\n          return renderError(error)\n      }\n      if (props) {\n        return render({ ...rest, ...props as any})\n      }\n      if (renderNull) {\n        return renderNull()\n      }\n      return null\n    }}\n    environment={environment}\n    variables={variables || {}}\n  />\n)\n","import { graphql } from \"babel-plugin-relay/macro\"\nimport {\n  commitMutation,\n} from \"utils\"\n\nconst mutation = graphql`\n  mutation makeStepMutation(\n    $input: makeStepInput!\n  ) {\n    makeStep(input: $input) {\n      currentPlayer {\n        id\n      }\n    }\n  }\n`\n\nexport default (position: {\n  x: number,\n  y: number,\n}) => commitMutation<{\n  makeStep: {\n    currentPlayer: {\n      id: string,\n    } | null,\n  } | null,\n}>({ mutation, variables: { input: position } })\n","import {\n  Position,\n  Board,\n  View,\n} from \"./types\"\n\nexport const getViewFromBoard = (board: Board): View => {\n  const SYMBOLS = [\"o\", \"x\"]\n\n  const symbols = board.order.reduce(\n    (s, { id }, i) => ({ ...s, [id]: SYMBOLS[i % SYMBOLS.length] }),\n    {},\n  )\n\n  let positions: Position[] = board.possibleSteps\n  if (positions.length === 0) {\n    positions = board.cells.map(c => c.position)\n  }\n\n  const { min, max } = positions.reduce(\n    ({ min, max }, { x, y }) => ({\n      min: {\n        x: Math.min(x, min.x),\n        y: Math.min(y, min.y),\n      },\n      max: {\n        x: Math.max(x, max.x),\n        y: Math.max(y, max.y),\n      },\n    }), {\n      min: { x: 0, y: 0},\n      max: { x: 0, y: 0},\n    }\n  )\n\n  return {\n    symbols,\n    offset: min,\n    size: {\n      x: max.x - min.x + 1,\n      y: max.y - min.y + 1,\n    },\n  }\n}\n\nexport const updateGameBoardView = (view: View, { x, y }: Position): View => {\n    const {\n      offset,\n      size,\n    } = view\n\n    if (x === offset.x - 1) {\n      offset.x -= 1\n      size.x += 1\n    }\n    if (y === offset.y - 1) {\n      offset.y -= 1\n      size.y += 1\n    }\n    if (x === size.x + offset.x) {\n      size.x += 1\n    }\n    if (y === size.y + offset.y) {\n      size.y += 1\n    }\n\n    return {\n      ...view,\n      size: { ...size },\n      offset: { ...offset },\n    }\n}\n","import styled from \"styled-components\"\n\ninterface FieldCellProps {\n  highlight?: boolean,\n}\n\nexport const FieldCell = styled.div<FieldCellProps>`\n  position: relative;\n  top: 1px;\n  left: 1px;\n  width: calc(100% + 2px);\n  height: calc(100% + 2px);\n  border: 2px solid gray;\n  line-height: 4rem;\n  ${props =>\n    props.highlight\n    && \"background-color: #FF3;\"\n  }\n`\n\nexport const FieldStep = styled(FieldCell)`\n  padding: 0;\n  background-color: #EEE;\n  outline: none;\n  cursor: pointer;\n\n  font-family: monospace;\n  color: rgba(0,0,0,0.6);\n  text-align: center;\n\n  &:hover {\n      background-color: #BFB;\n  }\n  ${props => props.children && (\n    \"background-color: #BFB;\"\n  )}\n  }\n`\n\nexport const Field = styled.div`\n  display: grid;\n  justify-items: center;\n  align-items: center;\n  justify-content: center;\n  align-content: center;\n\n  min-height: 100vh;\n  padding: 2rem;\n  font-family: monospace;\n  color: #222;\n  font-size: 4rem;\n  text-align: center;\n`\n","import React from \"react\"\nimport { MapInteractionCSS } from \"react-map-interaction\"\n\nimport {\n  Field,\n  FieldCell,\n  FieldStep,\n} from \"./elements\"\n\nimport {\n  User,\n  Position,\n  Board,\n  View,\n} from \"../types\"\n\ninterface BoardProps {\n  board: Board,\n  view: View,\n  viewer: User,\n  selected: Position | null,\n  onSelect(position: Position): void,\n}\n\nconst BoardView: React.FC<BoardProps> = (props) => {\n  const {\n    viewer,\n    selected,\n    onSelect,\n    board,\n    view: {\n      offset,\n      size,\n      symbols,\n    },\n  } = props\n\n  const cells = React.useMemo(() => (\n    board.cells.map(({ position: { x, y }, owner: { id } }) => (\n      <FieldCell\n        key={`${x};${y}:${id}`}\n        style={{\n          gridColumn: x - offset.x + 2, /* grid starts from 1*/\n          gridRow: y - offset.y + 2, /*and add offset for step*/\n        }}\n        highlight={\n          (\n            board.lastStep !== null\n            && x === board.lastStep.position.x\n            && y === board.lastStep.position.y\n          ) || (\n            board.winnerLine !== null\n            && board.winnerLine.findIndex(\n              p => p.x === x && p.y === y\n            ) >= 0\n          )\n        }\n      >\n        {symbols[id]}\n      </FieldCell>\n    ))\n  ), [\n    board,\n    offset,\n    symbols,\n  ])\n\n  const possibleSteps = React.useMemo(() => (\n    board.currentPlayer\n    && board.currentPlayer.id === viewer.id\n    && board.possibleSteps.map(({x, y}) => (\n      <FieldStep\n        key={`${x};${y}`}\n        style={{\n          gridColumn: x - offset.x + 2, /* grid starts from 1*/\n          gridRow: y - offset.y + 2, /*and add offset for step*/\n        }}\n        onClick={(e) => {\n            onSelect({ x, y })\n            e.stopPropagation()\n        }}\n        onTouchEnd={(e) => {\n            onSelect({ x, y })\n            e.stopPropagation()\n        }}\n        children={\n          selected !== null\n          && x === selected.x\n          && y === selected.y\n          && symbols[viewer.id]\n        }\n      />\n    ))\n  ), [\n    selected,\n    onSelect,\n    board,\n    offset,\n    symbols,\n    viewer,\n  ])\n\n  return (\n    <MapInteractionCSS\n      containerAsEventTarget={true}\n    >\n      <Field\n        style={{\n          gridTemplateColumns: `repeat(${size.x + 2}, 4rem)`,\n          gridTemplateRows: `repeat(${size.y + 2}, 4rem)`,\n          transform: `translate(${4*offset.x + 2*(size.x - 1)}rem, ${4*offset.y + 2*(size.y - 1)}rem)`,\n        }}\n      >\n        { cells }\n        { possibleSteps }\n      </Field>\n    </MapInteractionCSS>\n  )\n}\n\nexport default BoardView\n","import React from \"react\"\nimport styled from \"styled-components\"\n\nimport {\n  Player,\n} from \"./types\"\n\nexport const ControlButton = styled.button`\n  position: fixed;\n  top: 100%;\n  left: 50%;\n  padding: 1rem 1rem;\n  min-width: 10rem;\n\n  background-color: #CEC;\n  outline: none;\n  border-radius: 0.5rem;\n\n  font-family: monospace;\n  text-align: center;\n  color: black;\n  font-size: 1rem;\n\n  cursor: pointer;\n\n  &:disabled {\n    opacity: 0.3;\n    cursor: default;\n  }\n\n  transform: translate(-50%, -100%) translateY(-2rem);\n`\n\nexport const PlayersInfoWrapper = styled.div`\n  position: fixed;\n  top: 0;\n\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  width: 100%;\n\n  font-family: monospace;\n  font-weight: 400;\n\n  & > div {\n    display: flex;\n    flex-direction: column;\n    padding: 1rem;\n  }\n  & span {\n    padding: 0 1rem;\n    font-size: 2rem;\n  }\n  & label {\n    font-size: 1rem;\n  }\n`\n\nexport const PlayerTimerBar = styled.div`\n  width: 100%;\n  border: 4px solid #3F3;\n  border-radius: 4px;\n`\n\ninterface PlayersInfoProps {\n  players: Player[],\n  symbols: { [id: string]: string },\n  current?: string,\n}\n\nexport const PlayersInfoView: React.FC<PlayersInfoProps> = ({\n  players,\n  symbols,\n  current,\n}) => (\n  <PlayersInfoWrapper>\n    {players.map(({ id, name }, index) => (\n      <div\n        key={id}\n        style={{\n          textAlign: index === 0 ? \"left\" : \"right\",\n        }}\n      >\n        <span>{ symbols[id] }</span>\n        <label>{ name }</label>\n        {id === current && <PlayerTimerBar />}\n      </div>\n    ))}\n  </PlayersInfoWrapper>\n)\n","import React from \"react\"\nimport { graphql } from \"babel-plugin-relay/macro\"\n\nimport {\n  Link,\n} from \"react-router-dom\"\n\nimport makeStepMutation from \"mutations/makeStep\"\n\nimport {\n  requestSubscription,\n} from \"utils\"\n\nimport {\n  User,\n  UserWithName,\n  Viewer,\n  Position,\n  Cell,\n  View,\n  Board,\n} from \"./types\"\n\nimport {\n  getViewFromBoard,\n  updateGameBoardView,\n} from \"./utils\"\n\nimport BoardView from \"./BoardView\"\n\nimport {\n  ControlButton,\n  PlayersInfoView,\n} from \"./elements\"\n\nconst subscription = graphql`\n  subscription GameBoardSubscription {\n    waitBoardChange {\n      lastStep {\n        position {\n          x\n          y\n        }\n        owner {\n          id\n        }\n      }\n      possibleSteps {\n        x\n        y\n      }\n      currentPlayer {\n        id\n      }\n      winner {\n        id\n        name\n      }\n      winnerLine {\n        x\n        y\n      }\n    }\n  }\n`\n\nconst userExitSubscription = graphql`\n  subscription GameBoardUserExitSubscription {\n    userExit {\n      id\n      name\n    }\n  }\n`\n\ninterface SubscriptionBoard {\n  possibleSteps: Position[],\n  lastStep: Cell,\n  currentPlayer: User | null,\n  winner: UserWithName | null,\n  winnerLine: Position[] | null,\n}\n\ninterface GameBoardProps {\n  board: Board,\n  viewer: Viewer,\n  onUserExit(e: { user: UserWithName }): void,\n}\n\ninterface GameBoardState {\n  board: Board,\n  selected: Position | null,\n  busy: boolean,\n  view: View,\n}\n\nexport const GameBoard: React.FC<GameBoardProps> = (props) => {\n\n  const [state, setState] = React.useState<GameBoardState>({\n    board: props.board,\n    selected: null,\n    busy: false,\n    view: getViewFromBoard(props.board),\n  })\n\n  React.useEffect(() => {\n    const { dispose } = requestSubscription({\n      subscription,\n      onNext: ({\n        waitBoardChange: newBoard,\n      }: {\n        waitBoardChange: SubscriptionBoard | null,\n      }) => {\n        if (newBoard) {\n          setState((state) => ({\n            ...state,\n            board: {\n              ...state.board,\n              ...newBoard,\n              cells: [\n                ...state.board.cells,\n                newBoard.lastStep,\n              ],\n            },\n            view: updateGameBoardView(\n              state.view,\n              newBoard.lastStep.position,\n            )\n          }))\n        } else {\n          console.error(\"@game Board is null\")\n        }\n      },\n    })\n\n    return dispose\n  }, [props.board])\n\n  const {\n    onUserExit\n  } = props\n\n  React.useEffect(() => {\n    const { dispose } = requestSubscription({\n      subscription: userExitSubscription,\n      onNext: ({\n        userExit,\n      }: {\n        userExit: UserWithName | null,\n      }) => {\n        if (userExit) {\n          console.log(`Oh no ${userExit.name} exited room :(`)\n          onUserExit({ user: userExit })\n        }\n      },\n    })\n    return dispose\n  }, [\n    onUserExit,\n  ])\n\n  const makeStep = (position: Position) => {\n    setState({...state, busy: true})\n    makeStepMutation(\n      position,\n    ).then(\n      ({ makeStep }) => {\n\n        if (makeStep) {\n          setState(state => ({\n            ...state,\n            busy: false,\n            selected: null,\n          }))\n        } else {\n          throw new Error(\"makeStep response is null\")\n        }\n      }\n    ).catch((err) => {\n      console.error(err)\n      setState(state => ({\n        ...state,\n        busy: false,\n      }))\n    })\n  }\n\n  const {\n    selected,\n  } = state\n\n  const playersInfo = React.useMemo(() => (\n    <PlayersInfoView\n      players={state.board.order.slice().sort(\n        u => u.id === props.viewer.id ? -1 : 1\n      )}\n      symbols={state.view.symbols}\n      current={\n        state.board.currentPlayer\n        ? state.board.currentPlayer.id\n        : undefined\n      }\n    />\n  ), [\n    state.board.currentPlayer,\n    props.viewer,\n    state.board.order,\n    state.view.symbols,\n  ])\n\n  return (\n    <>\n      <BoardView\n        board={state.board}\n        view={state.view}\n        selected={state.selected}\n        viewer={props.viewer}\n        onSelect={(selected) => setState({ ...state, selected})}\n      />\n      { playersInfo }\n      {\n        state.board.winner\n        ? (\n          <Link to={`/${props.viewer.currentRoom.id}`}>\n            <ControlButton\n            >\n              Restart\n            </ControlButton>\n          </Link>\n        ) : (\n          <ControlButton\n            onClick={() => selected && makeStep(selected)}\n            onTouchEnd={() => selected && makeStep(selected)}\n            disabled={!selected || state.busy}\n          >\n            Make turn\n          </ControlButton>\n        )\n      }\n    </>\n  )\n}\n","import React from \"react\"\nimport { graphql } from \"babel-plugin-relay/macro\"\n\nimport {\n  QueryRenderer,\n} from \"components\"\n\nconst query = graphql`\n  query roomQueryForRoomQuery($roomId: ID!) {\n    room: getRoom(id: $roomId) {\n      id\n      name\n      gameActive\n    }\n  }\n`\n\nexport interface Room {\n  id: string,\n  name: string,\n  gameActive: boolean,\n}\n\nexport interface RoomQuery {\n  room: Room | null,\n}\n\nexport interface RoomQueryVariables {\n  roomId: string,\n}\n\nconst Container: QueryContainerType<RoomQuery, RoomQueryVariables> = render => props => (\n  <QueryRenderer\n    query={query}\n    {...props}\n    render={data => render({ ...data })}\n  />\n)\n\nexport default Container\n","import React from \"react\"\n\nimport {\n  withRouter,\n  RouteComponentProps,\n  Redirect,\n} from \"react-router-dom\"\n\nimport {\n  setAuthorizationToken,\n} from \"utils\"\n\nimport ViewerContext from \"contexts/viewer\"\n\nimport commitCreateUserMutation from \"mutations/createUser\"\nimport commitEnterRoomMutation from \"mutations/enterRoom\"\n\nimport RoomQueryContainer, {\n  Room as IRoom,\n} from \"containers/roomQuery\"\n\nimport {\n  Heading,\n  Page,\n  Input,\n  Button,\n  LoginForm,\n} from \"styles\"\n\nconst RoomIsActive: React.FC<{ room: IRoom }> = ({ room }) => (\n  <Page>\n    <Heading.h2>\n      Game in room \"{room.name}\" has already started\n    </Heading.h2>\n  </Page>\n)\n\ninterface Props {\n  room: IRoom,\n}\n\nconst Room: React.FC<Props> = ({\n  room,\n}) => {\n  const [busy, setBusy] = React.useState<boolean>(false)\n  const userName = React.createRef<HTMLInputElement>()\n  const { update } = React.useContext(ViewerContext)\n\n  const handleClick = () => {\n    if (\n      !userName.current\n      || userName.current.value === \"\"\n    )\n      return\n\n    Promise.resolve({ name: userName.current.value})\n      .then(async ({ name }) => {\n        const { token } = await commitCreateUserMutation({ name })\n\n        setAuthorizationToken(token)\n\n        await commitEnterRoomMutation({\n          id: room.id,\n        })\n\n        setBusy(false)\n        update()\n      })\n      .catch(error => {\n        console.error(error)\n        setBusy(false)\n      })\n\n    setBusy(true)\n  }\n\n  return (\n    <Page>\n      <LoginForm>\n        <Heading.h2>Enter room \"{room.name}\"</Heading.h2>\n        <Input\n          placeholder=\"User name\"\n          ref={userName}\n        />\n        <Button\n          disabled={busy}\n          onClick={handleClick}\n        >\n          Enter\n        </Button>\n      </LoginForm>\n    </Page>\n  )\n}\n\nconst RoomQuery = RoomQueryContainer(({ room, ...rest }) => (\n  room\n  ? room.gameActive\n    ? <RoomIsActive room={room} />\n    : <Room room={room} {...rest} />\n  : <Redirect to=\"/\" />\n))\n\nexport default withRouter((props: RouteComponentProps<{id: string}>) => (\n  <RoomQuery\n    variables={{\n      roomId: props.match.params.id,\n    }}\n    {...props}\n  />\n))\n","import React from \"react\"\nimport {\n  Route,\n  Switch,\n} from \"react-router-dom\"\n\nimport Main from \"./Main\"\nimport Room from \"./Room\"\n\nconst Guest: React.FC = () => (\n  <Switch>\n    <Route exact path=\"/\" component={Main} />\n    <Route path=\"/:id\" component={Room} />\n  </Switch>\n)\n\nexport default Guest\n","import React from \"react\"\n\nimport {\n  Link,\n} from \"react-router-dom\"\n\nimport { setAuthorizationToken } from \"utils\"\nimport ViewerContext from \"contexts/viewer\"\n\nimport {\n  Page,\n  Button,\n  LoginForm,\n  Heading,\n} from \"styles\"\n\nconst Main: React.FC = () => {\n  const { viewer, update } = React.useContext(ViewerContext)\n  if (viewer === null) {\n    throw new Error(\"Viewer is null\")\n  }\n\n  const handleExit = () => {\n    setAuthorizationToken(\"\")\n    update()\n  }\n\n  return (\n    <Page>\n      <LoginForm>\n        <Heading.h2>Hello, {viewer.name}!</Heading.h2>\n        <Link to=\"/new\">\n          <Button>\n            Create new room\n          </Button>\n        </Link>\n        <Button onClick={handleExit}>\n          Exit\n        </Button>\n      </LoginForm>\n    </Page>\n  )\n}\n\nexport default Main\n","import React from \"react\"\n\nimport {\n  withRouter,\n  RouteComponentProps,\n} from \"react-router-dom\"\n\nimport {\n  Page,\n  Input,\n  Button,\n  LoginForm,\n  Heading,\n} from \"styles\"\n\nimport commitCreateRoomMutation from \"mutations/createRoom\"\nimport ViewerContext from \"contexts/viewer\"\n\nconst Main: React.FC<RouteComponentProps> = ({\n  history,\n}) => {\n  const { viewer, update: updateUser } = React.useContext(ViewerContext)\n  const roomName = React.createRef<HTMLInputElement>()\n  const [busy, setBusy] = React.useState<boolean>(false)\n  const handleClick = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    e.preventDefault()\n    if (\n      !roomName.current\n      || roomName.current.value === \"\"\n    )\n      return\n\n    Promise.resolve({\n      name: roomName.current.value,\n    })\n      .then(async ({ name }) => {\n        const {\n          createRoom: {\n            id: roomId,\n          }\n        } = await commitCreateRoomMutation({ name })\n        setBusy(false)\n        history.push(\"/\"+roomId)\n        updateUser()\n      })\n      .catch(error => {\n        console.error(error)\n        setBusy(false)\n      })\n\n    setBusy(true)\n  }\n  if (viewer === null){\n    throw new Error(\"Viewer is null\")\n  }\n\n  return (\n    <Page>\n      <LoginForm>\n        <Heading.h2>Create new room</Heading.h2>\n        <Input placeholder=\"Room name\" ref = { roomName } />\n        <Button onClick={ handleClick } disabled = { busy } > Create room </Button>\n      </LoginForm>\n    </Page>\n  )\n}\n\nexport default withRouter(Main)\n","import React from \"react\"\nimport {\n  withRouter,\n  RouteComponentProps,\n} from \"react-router-dom\"\n\nimport commitEnterRoomMutation from \"mutations/enterRoom\"\nimport ViewerContext from \"contexts/viewer\"\n\nimport {\n  Page,\n  Heading,\n} from \"styles\"\n\nimport RoomQueryContainer, {\n  Room as IRoom,\n} from \"containers/roomQuery\"\n\nconst NotFound: React.FC = () => (\n  <Page>\n    <Heading.h2>Cant find room</Heading.h2>\n  </Page>\n)\n\nconst RoomIsActive: React.FC<{ room: IRoom }> = ({ room }) => (\n  <Page>\n    <Heading.h2>\n      Game in room \"{room.name}\" has already started\n    </Heading.h2>\n  </Page>\n)\n\nconst EnterRoom: React.FC<{ room: IRoom }> = ({ room }) => {\n  const { update } = React.useContext(ViewerContext)\n\n  React.useEffect(() => {\n    commitEnterRoomMutation({\n      id: room.id,\n    })\n      .then(() => update())\n      .catch(error => console.error(error))\n  }, [\n    update,\n    room,\n  ])\n\n  return <>Please, wait...</>\n}\n\nconst RoomQuery = RoomQueryContainer(({ room }) => (\n  room\n  ? room.gameActive\n    ? <RoomIsActive room={room}/>\n    : <EnterRoom room={room} />\n  : <NotFound />\n))\n\nexport default withRouter((\n  props: RouteComponentProps<{id: string}>\n) => (\n  <RoomQuery\n    variables={{\n      roomId: props.match.params.id,\n    }}\n  />\n))\n","import React from \"react\"\nimport {\n  Switch,\n  Route,\n} from \"react-router-dom\"\n\nimport Main from \"./Main\"\nimport New from \"./New\"\nimport Room from \"./Room\"\n\nconst Lobby: React.FC = () => (\n  <Switch>\n    <Route exact path=\"/\" component={Main} />\n    <Route path=\"/new\" component={New}/>\n    <Route path=\"/:id\" component={Room}/>\n  </Switch>\n)\n\nexport default Lobby\n","import { graphql } from \"babel-plugin-relay/macro\"\nimport {\n  commitMutation,\n} from \"utils\"\n\nconst mutation = graphql`\n  mutation exitRoomMutation {\n    exitRoom\n  }\n`\n\nexport default () => commitMutation<{\n  exitRoom: boolean | null,\n}>({ mutation })\n","import React from \"react\"\nimport {\n  Link,\n} from \"react-router-dom\"\n\nimport ViewerContext from \"contexts/viewer\"\nimport commitExitRoomMutation from \"mutations/exitRoom\"\n\nimport {\n  Page,\n  Button,\n  LoginForm,\n  Heading,\n} from \"styles\"\n\nconst Return: React.FC = () => {\n  const { viewer, update } = React.useContext(ViewerContext)\n  const [busy, setBusy] = React.useState<boolean>(false)\n  if (viewer === null) {\n    throw new Error(\"Viewer is null\")\n  }\n  const { currentRoom } = viewer\n  if (currentRoom === null) {\n    throw new Error(\"Current room is null\")\n  }\n\n  const handleExitClick = () => {\n    setBusy(true)\n    commitExitRoomMutation()\n      .then(\n        () => {\n          setBusy(false)\n          update()\n        },\n        errors => {\n          console.error(errors)\n          setBusy(false)\n        }\n      )\n  }\n\n  return (\n    <Page>\n      <LoginForm>\n        <Heading.h2>Hello, {viewer.name}!</Heading.h2>\n        <Link to={`/${currentRoom.id}`} onClick={(e) => busy && e.preventDefault()}>\n          <Button disabled={busy}>\n              Return \"{currentRoom.name}\"\n          </Button>\n        </Link>\n        <Button disabled={busy} onClick={handleExitClick}>\n          Exit room\n        </Button>\n      </LoginForm>\n    </Page>\n  )\n}\n\nexport default Return\n","import React from \"react\"\n\nimport {\n  withRouter,\n  RouteComponentProps,\n  Link,\n} from \"react-router-dom\"\n\nimport {\n  Heading,\n  Button,\n  LoginForm,\n} from \"styles\"\n\nimport ViewerContext from \"contexts/viewer\"\nimport commitExitRoomMutation from \"mutations/exitRoom\"\n\nconst UserExited: React.FC<RouteComponentProps & {\n  user: {\n    name: string,\n  }\n}> = ({\n  user,\n  history,\n}) => {\n  const { viewer, update } = React.useContext(ViewerContext)\n  if (viewer === null) {\n    throw new Error(\"Viewer is null\")\n  }\n  const { currentRoom } = viewer\n  if (currentRoom === null) {\n    throw new Error(\"Current Room is null\")\n  }\n  const [busy, setBusy] = React.useState<boolean>(false)\n  const handleExitRoom = () => {\n    setBusy(true)\n    commitExitRoomMutation()\n      .then(\n        () => {\n          setBusy(false)\n          history.push(\"/\")\n          update()\n        },\n        (error) => {\n          console.error(error)\n          setBusy(false)\n        },\n      )\n  }\n  return (\n    <>\n      <Heading.h2> {user.name} left room. so you win.</Heading.h2>\n      <LoginForm>\n        <Link\n          to={`/${currentRoom.id}`}\n          onClick={(e) => busy && e.preventDefault()}\n        >\n          <Button disabled={busy}>\n            Wait here new game\n          </Button>\n        </Link>\n        <Button\n          disabled={busy}\n          onClick={handleExitRoom}\n        >\n          Exit room\n        </Button>\n      </LoginForm>\n    </>\n  )\n}\n\nexport default withRouter(UserExited)\n","import React from \"react\"\nimport { graphql } from \"babel-plugin-relay/macro\"\n\nimport {\n  Redirect,\n} from \"react-router-dom\"\n\nimport {\n  QueryRenderer,\n  GameBoard,\n} from \"components\"\n\nimport {\n  Viewer,\n  Board,\n  UserWithName,\n} from \"components/GameBoard/types\"\n\nimport {\n  Page,\n} from \"styles\"\n\nimport UserExited from \"./UserExited\"\n\nconst query = graphql`\n  query GameQuery {\n    board {\n      cells {\n        position {\n          x\n          y\n        }\n        owner {\n          id\n        }\n      }\n      possibleSteps {\n        x\n        y\n      }\n      lastStep {\n        position {\n          x\n          y\n        }\n        owner {\n          id\n        }\n      }\n      order {\n        id\n        name\n      }\n      winner {\n        id\n        name\n      }\n      winnerLine {\n        x\n        y\n      }\n      currentPlayer {\n        id\n      }\n    }\n    viewer {\n      id\n      currentRoom {\n        id\n      }\n    }\n  }\n`\n\n\nconst GameQuery: React.FC<{\n  onUserExit(e: { user: UserWithName }):void,\n}> = (props) => (\n  <QueryRenderer\n    query={query}\n    render={({\n      viewer,\n      board,\n    }: {\n      board: Board | null,\n      viewer: Viewer | null,\n    }) => (\n      viewer\n      ? board\n        ? (\n          <GameBoard\n            viewer={viewer}\n            board={board}\n            {...props}\n          />\n        )\n        : <Redirect to={`/${viewer.currentRoom.id}`} />\n      : <Redirect to=\"/\" />)\n    }\n  />\n)\n\nconst GamePage: React.FC = () => {\n  const [exited, setExited] = React.useState<{ user: UserWithName } | null>(null)\n\n  return (\n    <Page>\n      {\n        exited\n        ? <UserExited {...exited}/>\n        : (\n          <GameQuery\n            onUserExit={setExited}\n          />\n        )\n      }\n    </Page>\n  )\n}\n\nexport default GamePage\n","import { graphql } from \"babel-plugin-relay/macro\"\nimport {\n  commitMutation,\n} from \"utils\"\n\nconst mutation = graphql`\n  mutation setReadyMutation(\n    $ready: Boolean!\n  ) {\n    setReady(ready: $ready) {\n      gameActive\n    }\n  }\n`\n\nexport default (ready: boolean) => commitMutation<{\n  setReady: {\n    gameActive: boolean,\n  } | null,\n}>({ mutation, variables: { ready } })\n","import React from \"react\"\nimport { withRouter, RouteComponentProps } from \"react-router-dom\"\nimport { graphql } from 'babel-plugin-relay/macro'\nimport styled from \"styled-components\"\nimport qrcode from \"qrcode\"\n\nimport {\n  requestSubscription,\n} from \"utils\"\n\nimport ViewerContext from \"contexts/viewer\"\nimport commitSetReadyMutation from \"mutations/setReady\"\n\nimport {\n  Page,\n  Heading,\n} from \"styles\"\n\nconst QRCodeImage = styled.img`\n  display: block;\n  margin: auto;\n  width: 20rem;\n  height: 20rem;\n`\n\nconst QRCode: React.FC<{data: string}> = ({ data }) => {\n  const [url, setURL] = React.useState<string>(\"\")\n\n  React.useEffect(() => {\n    qrcode.toDataURL(data).then(setURL)\n  }, [data])\n\n  return (\n    <QRCodeImage\n      src={url}\n    />\n  )\n}\n\nconst subscription = graphql`\n  subscription WaitPlayerSubscription {\n    waitForOtherUser {\n      gameActive\n    }\n  }\n`\n\nconst WaitRoom: React.FC<RouteComponentProps> = ({ history }) => {\n  const { update: updateUser } = React.useContext(ViewerContext)\n  React.useEffect(() => {\n    const { dispose } = requestSubscription({\n      subscription,\n      onNext: async (responce) => {\n        if (responce.waitForOtherUserEnter.gameActive) {\n          await updateUser()\n          history.push(\"/game\")\n        }\n      },\n    })\n    commitSetReadyMutation(true)\n    return () => {\n      dispose()\n      commitSetReadyMutation(false)\n    }\n  })\n  return (\n    <Page>\n      <Heading.h2>Waiting for other player</Heading.h2>\n      <QRCode data={window.location.href}/>\n    </Page>\n  )\n}\n\nexport default withRouter(WaitRoom)\n","import React from \"react\"\n\nimport {\n  Link,\n} from \"react-router-dom\"\n\nimport {\n  Page,\n  Button,\n  LoginForm,\n} from \"styles\"\n\nimport ViewerContext, {\n  Room,\n} from \"contexts/viewer\"\n\nimport commitSetReadyMutation from \"mutations/setReady\"\nimport commitExitRoomMutation from \"mutations/exitRoom\"\nimport commitEnterRoomMutation from \"mutations/enterRoom\"\n\nconst Menu: React.FC<{\n  targetRoom: Room,\n  currentRoom: Room,\n}> = ({\n  currentRoom,\n  targetRoom,\n}) => {\n  const { update } = React.useContext(ViewerContext)\n  const [busy, setBusy] = React.useState<boolean>(false)\n  const handleClick = () => {\n    setBusy(true)\n    Promise.resolve()\n      .then(async () => {\n        await commitSetReadyMutation(false)\n        await commitExitRoomMutation()\n        await commitEnterRoomMutation({\n          id: targetRoom.id,\n        })\n        setBusy(false)\n        update()\n      })\n      .catch(error => {\n        console.error(error)\n        setBusy(false)\n      })\n  }\n  return (\n    <Page>\n      <LoginForm>\n        <Link\n          to={`/${currentRoom.id}`}\n          onClick={e => busy && e.preventDefault()}\n        >\n          <Button disabled={busy}>\n            Return to \"{currentRoom.name}\"\n          </Button>\n        </Link>\n        <Button\n          disabled={busy}\n          onClick={handleClick}\n        >\n          Enter \"{targetRoom.name}\"\n        </Button>\n      </LoginForm>\n    </Page>\n  )\n}\n\nexport default Menu\n","import React from \"react\"\nimport {\n  withRouter,\n  RouteComponentProps,\n  Redirect,\n} from \"react-router-dom\"\n\nimport ViewerContext from \"contexts/viewer\"\n\nimport Wait from \"./Wait\"\nimport Menu from \"./Menu\"\n\nimport {\n  Page,\n  Heading,\n} from \"styles\"\n\nimport RoomQueryContainer, {\n  Room as IRoom,\n} from \"containers/roomQuery\"\n\nconst NotFound: React.FC = () => (\n  <Page>\n    <Heading.h2>Cant find room</Heading.h2>\n  </Page>\n)\n\nconst RoomIsActive: React.FC<{room: IRoom}> = ({ room }) => (\n  <Page>\n    <Heading.h2>\n      Game in room \"{room.name}\" has already started\n    </Heading.h2>\n  </Page>\n)\n\nconst Room: React.FC<{ room: IRoom }> = ({ room }) => {\n  const { viewer } = React.useContext(ViewerContext)\n  if (viewer === null) {\n    throw new Error(\"Viewer is null\")\n  }\n  const { currentRoom } = viewer\n  if (currentRoom === null) {\n    throw new Error(\"Current room is null\")\n  }\n\n  return (\n    currentRoom.id === room.id\n    ? room.gameActive\n      ? <Redirect to=\"/game\"/>\n      : <Wait />\n    : room.gameActive\n      ? <RoomIsActive room={room}/>\n      : (\n        <Menu\n          currentRoom={currentRoom}\n          targetRoom={room}\n        />\n      )\n  )\n}\n\nconst RoomQuery = RoomQueryContainer(({ room }) => (\n  room\n  ? <Room room={room} />\n  : <NotFound />\n))\n\nexport default withRouter((\n  props: RouteComponentProps<{id: string}>\n) => (\n  <RoomQuery\n    variables={{\n      roomId: props.match.params.id,\n    }}\n  />\n))\n","import React from \"react\"\nimport {\n  Switch,\n  Route,\n} from \"react-router-dom\"\n\nimport ReturnMenu from \"./Return\"\nimport Game from \"./Game\"\nimport RoomMenu from \"./Room\"\n\nconst Room: React.FC = () => (\n  <Switch>\n    <Route exact path=\"/\" component={ReturnMenu}/>\n    <Route path=\"/game\" component={Game}/>\n    <Route path=\"/:id\" component={RoomMenu}/>\n  </Switch>\n)\n\nexport default Room\n","import React from \"react\"\n\nimport Lobby from \"./lobby\"\nimport Room from \"./room\"\n\nimport ViewerContext from \"contexts/viewer\"\n\nconst User: React.FC = () => {\n  const { viewer } = React.useContext(ViewerContext)\n  if (viewer === null) {\n    throw new Error(\"Viewer is null\")\n  }\n\n  return (\n    viewer.currentRoom === null\n    ? <Lobby />\n    : <Room />\n  )\n}\n\nexport default User\n","import React from \"react\"\nimport Guest from \"./guest\"\nimport User from \"./user\"\n\nimport ViewerContext from \"contexts/viewer\"\n\nconst Main: React.FC = () => {\n  const { viewer } = React.useContext(ViewerContext)\n  if (viewer === null) {\n    return <Guest />\n  } else {\n    return <User />\n  }\n}\n\nexport default Main\n","import React from 'react'\nimport {\n  HashRouter as Router,\n} from \"react-router-dom\"\n\nimport Main from \"pages\"\n\nimport { ViewerContextProvider } from \"contexts/viewer\"\n\nconst App: React.FC = () => {\n  return (\n    <ViewerContextProvider>\n      <Router>\n        <Main/>\n      </Router>\n    </ViewerContextProvider>\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}